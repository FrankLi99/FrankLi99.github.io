<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Frank 的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Frank 的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Frank 的博客">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Frank 的博客">
  
    <link rel="alternate" href="/atom.xml" title="Frank 的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Frank 的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">人生天地间，忽如远行客。。。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-python-标准异常总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/12/python-标准异常总结/" class="article-date">
  <time datetime="2018-07-12T08:42:31.000Z" itemprop="datePublished">2018-07-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/12/python-标准异常总结/">python 标准异常总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Python标准异常总结</p>
<p>AssertionError    断言语句（assert）失败<br>AttributeError    尝试访问未知的对象属性<br>EOFError    用户输入文件末尾标志EOF（Ctrl+d）<br>FloatingPointError    浮点计算错误<br>GeneratorExit    generator.close()方法被调用的时候<br>ImportError    导入模块失败的时候<br>IndexError    索引超出序列的范围<br>KeyError    字典中查找一个不存在的关键字<br>KeyboardInterrupt    用户输入中断键（Ctrl+c）<br>MemoryError    内存溢出（可通过删除对象释放内存）<br>NameError    尝试访问一个不存在的变量<br>NotImplementedError    尚未实现的方法<br>OSError    操作系统产生的异常（例如打开一个不存在的文件）<br>OverflowError    数值运算超出最大限制<br>ReferenceError    弱引用（weak reference）试图访问一个已经被垃圾回收机制回收了的对象<br>RuntimeError    一般的运行时错误<br>StopIteration    迭代器没有更多的值<br>SyntaxError    Python的语法错误<br>IndentationError    缩进错误<br>TabError    Tab和空格混合使用<br>SystemError    Python编译器系统错误<br>SystemExit    Python编译器进程被关闭<br>TypeError    不同类型间的无效操作<br>UnboundLocalError    访问一个未初始化的本地变量（NameError的子类）<br>UnicodeError    Unicode相关的错误（ValueError的子类）<br>UnicodeEncodeError    Unicode编码时的错误（UnicodeError的子类）<br>UnicodeDecodeError    Unicode解码时的错误（UnicodeError的子类）<br>UnicodeTranslateError    Unicode转换时的错误（UnicodeError的子类）<br>ValueError    传入无效的参数<br>ZeroDivisionError    除数为零</p>
<p>以下是 Python 内置异常类的层次结构：</p>
<p>BaseException<br>+– SystemExit<br>+– KeyboardInterrupt<br>+– GeneratorExit<br>+– Exception<br>      +– StopIteration<br>      +– ArithmeticError<br>      |    +– FloatingPointError<br>      |    +– OverflowError<br>      |    +– ZeroDivisionError<br>      +– AssertionError<br>      +– AttributeError<br>      +– BufferError<br>      +– EOFError<br>      +– ImportError<br>      +– LookupError<br>      |    +– IndexError<br>      |    +– KeyError<br>      +– MemoryError<br>      +– NameError<br>      |    +– UnboundLocalError<br>      +– OSError<br>      |    +– BlockingIOError<br>      |    +– ChildProcessError<br>      |    +– ConnectionError<br>      |    |    +– BrokenPipeError<br>      |    |    +– ConnectionAbortedError<br>      |    |    +– ConnectionRefusedError<br>      |    |    +– ConnectionResetError<br>      |    +– FileExistsError<br>      |    +– FileNotFoundError<br>      |    +– InterruptedError<br>      |    +– IsADirectoryError<br>      |    +– NotADirectoryError<br>      |    +– PermissionError<br>      |    +– ProcessLookupError<br>      |    +– TimeoutError<br>      +– ReferenceError<br>      +– RuntimeError<br>      |    +– NotImplementedError<br>      +– SyntaxError<br>      |    +– IndentationError<br>      |         +– TabError<br>      +– SystemError<br>      +– TypeError<br>      +– ValueError<br>      |    +– UnicodeError<br>      |         +– UnicodeDecodeError<br>      |         +– UnicodeEncodeError<br>      |         +– UnicodeTranslateError<br>      +– Warning<br>           +– DeprecationWarning<br>           +– PendingDeprecationWarning<br>           +– RuntimeWarning<br>           +– SyntaxWarning<br>           +– UserWarning<br>           +– FutureWarning<br>           +– ImportWarning<br>           +– UnicodeWarning<br>           +– BytesWarning<br>           +– ResourceWarning</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/12/python-标准异常总结/" data-id="cjjib32jk0001z4vcurvrasoo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-python-总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/11/python-总结/" class="article-date">
  <time datetime="2018-07-11T08:03:53.000Z" itemprop="datePublished">2018-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/11/python-总结/">python 总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noopener">pythonic 风格编码</a></strong></p>
<p><img src="https://images2018.cnblogs.com/blog/636379/201806/636379-20180614180137257-529947281.png" alt=""></p>
<p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="noopener">入门python好博客</a><br><a href="https://eastlakeside.gitbooks.io/interpy-zh/content/" target="_blank" rel="noopener">进阶大纲</a><br><a href="http://pythontutor.com/" target="_blank" rel="noopener">有趣的灵魂</a><br><a href="https://github.com/qiwsir/StarterLearningPython" target="_blank" rel="noopener">老齐的教程</a><br><a href="https://github.com/qiwsir/ITArticles" target="_blank" rel="noopener">老齐还整理了很多精华</a><br>听说 fluent python + pro python 这两本书还不错！</p>
<h1 id="元组三种遍历，有点像回字有四种写法一样。。。苦笑"><a href="#元组三种遍历，有点像回字有四种写法一样。。。苦笑" class="headerlink" title="元组三种遍历，有点像回字有四种写法一样。。。苦笑"></a>元组三种遍历，有点像<strong>回</strong>字有四种写法一样。。。苦笑</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">for index in range(0,len(tuple_1)):</span><br><span class="line">...     print(tuple_1[index])</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; for index in range(0,len(tuple_1)):</span><br><span class="line">...     print(&apos;&#123;&#125;--&#123;&#125;&apos;.format(index,tuple_1[index]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; tuple_1 = (1,2,&apos;hello&apos;,&apos;world&apos;)</span><br><span class="line">&gt;&gt;&gt; for content in tuple_1:</span><br><span class="line">...     print(content)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; for index,enum in enumerate(tuple_1):</span><br><span class="line">...     print(&apos;&#123;&#125;--&#123;&#125;&apos;.format(index,enum))</span><br><span class="line"></span><br><span class="line"># 黑魔法咩？  map ,reduce</span><br><span class="line">from functools import reduce</span><br><span class="line">def str2int(s):</span><br><span class="line">    Digital = &#123;&apos;0&apos;:0,&apos;1&apos;:1,&apos;2&apos;:2,&apos;3&apos;:3,&apos;4&apos;:4,&apos;5&apos;:5,&apos;6&apos;:6,&apos;7&apos;:7,&apos;8&apos;:8,&apos;9&apos;:9&#125;</span><br><span class="line">    return Digital[s]</span><br><span class="line"></span><br><span class="line">def str_reduce(s):</span><br><span class="line">    l = list(map(str2int,s))</span><br><span class="line">    if not isinstance(s, str):</span><br><span class="line">        raise ValueError(&apos;输入不是字符串类型!&apos;)</span><br><span class="line">    return reduce(lambda x,y:x+y,[v * 10**(len(l)-i-1) for  i , v in enumerate(l)])</span><br><span class="line"></span><br><span class="line">str_reduce(&apos;213&apos;)</span><br><span class="line"></span><br><span class="line"># 更加 逆天的 map 用法，不论传入的 list 是普通值 还是 func 都行</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; for i in range(10):</span><br><span class="line">...     print(list(map(lambda x:x(i),[lambda x:x+x,lambda x:x**2])))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># filter 用法</span><br><span class="line">&gt;&gt;&gt; list_1 = [i for i in range(30) if i%2 == 1]</span><br><span class="line">&gt;&gt;&gt; list_1</span><br><span class="line">[1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29]</span><br><span class="line">&gt;&gt;&gt; list(filter(lambda x:x&lt;10,list_1))</span><br><span class="line">[1, 3, 5, 7, 9]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tuple 互转   tuple(list_1)    ,  list(tuple_2)</span><br><span class="line">&gt;&gt;&gt; import os</span><br><span class="line">&gt;&gt;&gt; print(os.path.abspath(&apos;.&apos;))</span><br><span class="line">C:\Users\FrankLi\Desktop</span><br><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; print(sys.argv)</span><br><span class="line">[&apos;&apos;]</span><br><span class="line">&gt;&gt;&gt; print(sys.executable)</span><br><span class="line">D:\Program Files (x86)\python\python.exe</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>列表</strong>生成式 vs <strong>生成器</strong>表达式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; [x for x in list_1 if x%2==1]</span><br><span class="line">[1, 3, 5]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; (x for x in list_1 if x%2==1)</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at 0x033C2660&gt;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; gen = (x for x in range(0,10) if x%3==1)</span><br><span class="line">&gt;&gt;&gt; for x in gen:</span><br><span class="line">...     print(x)</span><br><span class="line">...</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; #这是一个生成器应用，斐波拉契数列</span><br><span class="line">... def fib(max):</span><br><span class="line">...     n,a,b=0,1,1</span><br><span class="line">...     while n&lt;=max:</span><br><span class="line">...         yield b</span><br><span class="line">...         a,b=b,a+b</span><br><span class="line">...         n=n+1</span><br><span class="line">...     return &apos;Nore More!&apos;</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; for f in fib(6):</span><br><span class="line">...     print(&apos;fib: &#123;&#125;&apos;.format(f))</span><br><span class="line">...</span><br><span class="line">fib: 1</span><br><span class="line">fib: 2</span><br><span class="line">fib: 3</span><br><span class="line">fib: 5</span><br><span class="line">fib: 8</span><br><span class="line">fib: 13</span><br><span class="line">fib: 21</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; def fib(x):</span><br><span class="line">...     a,b = 1,1</span><br><span class="line">...     for i in range(x):</span><br><span class="line">...         yield a</span><br><span class="line">...         a,b = b,a+b</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; for i in fib(10):</span><br><span class="line">...     print(i)</span><br><span class="line">...</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">13</span><br><span class="line">21</span><br><span class="line">34</span><br><span class="line">55</span><br><span class="line"></span><br><span class="line">#获取生成器重的 return 返回值 Nore More!</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; g = fib(6)</span><br><span class="line">&gt;&gt;&gt; while True:</span><br><span class="line">...    try:</span><br><span class="line">...        x=next(g)</span><br><span class="line">...        print(&apos;g: &#123;&#125;&apos;.format(x))</span><br><span class="line">...    except StopIteration as e:</span><br><span class="line">...        print(&apos;evalue: &#123;&#125;&apos;.format(e.value))</span><br><span class="line">...        break</span><br><span class="line">...</span><br><span class="line">g: 1</span><br><span class="line">g: 2</span><br><span class="line">g: 3</span><br><span class="line">g: 5</span><br><span class="line">g: 8</span><br><span class="line">g: 13</span><br><span class="line">g: 21</span><br><span class="line">evalue: Nore More!</span><br><span class="line"></span><br><span class="line"># string 也是序列可以被迭代 iter(s) 即可</span><br><span class="line">&gt;&gt;&gt; s = &apos;google&apos;</span><br><span class="line">&gt;&gt;&gt; s_iter = iter(s)</span><br><span class="line">&gt;&gt;&gt; while True:</span><br><span class="line">...     try:</span><br><span class="line">...         print(next(s_iter))</span><br><span class="line">...     except StopIteration as stopIter:</span><br><span class="line">...         print(&apos;done&apos;)</span><br><span class="line">...         break</span><br><span class="line">...</span><br><span class="line">g</span><br><span class="line">o</span><br><span class="line">o</span><br><span class="line">g</span><br><span class="line">l</span><br><span class="line">e</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; # 杨辉三角末尾补零两数相加大法</span><br><span class="line">... def triangle():</span><br><span class="line">...     l=[1]</span><br><span class="line">...     while True:</span><br><span class="line">...         yield l</span><br><span class="line">...         l.append(0)</span><br><span class="line">...         l=[l[i-1]+l[i] for i in range(0,len(l))]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">调用杨辉三角生成器</span><br><span class="line">&gt;&gt;&gt; n=0</span><br><span class="line">&gt;&gt;&gt; for e in triangle():</span><br><span class="line">...     n=n+1</span><br><span class="line">...     print(e,&apos;\t&apos;)</span><br><span class="line">...     if n==10:</span><br><span class="line">...         break</span><br><span class="line">...</span><br><span class="line">[1]</span><br><span class="line">[1, 1]</span><br><span class="line">[1, 2, 1]</span><br><span class="line">[1, 3, 3, 1]</span><br><span class="line">[1, 4, 6, 4, 1]</span><br><span class="line">[1, 5, 10, 10, 5, 1]</span><br><span class="line">[1, 6, 15, 20, 15, 6, 1]</span><br><span class="line">[1, 7, 21, 35, 35, 21, 7, 1]</span><br><span class="line">[1, 8, 28, 56, 70, 56, 28, 8, 1]</span><br><span class="line">[1, 9, 36, 84, 126, 126, 84, 36, 9, 1]</span><br></pre></td></tr></table></figure>
<p>迭代器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Generator 天然的 迭代器 </span><br><span class="line">而  tuple , list 等 序列如果要编程 迭代器 需要 iter(list_1) 、iter(tuple_2)</span><br><span class="line">&gt;&gt;&gt; from collections import Iterator</span><br><span class="line">&gt;&gt;&gt; isinstance((1,2,3,4),Iterator)</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; isinstance((x for x in range(10) if x%2==0),Iterator)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; isinstance(iter((1,2,3,4)),Iterator)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; list_1 = [1,2,3,4]</span><br><span class="line">&gt;&gt;&gt; list_1_iter = iter(list_1)</span><br><span class="line">&gt;&gt;&gt; while True:</span><br><span class="line">...     try:</span><br><span class="line">...         x=next(list_1_iter)</span><br><span class="line">...         print(&apos;x:&#123;&#125;&apos;.format(x))</span><br><span class="line">...     except StopIteration as e:</span><br><span class="line">...         print(&apos;e.value: &#123;&#125;&apos;.format(e.value))</span><br><span class="line">...         break</span><br><span class="line">...</span><br><span class="line">x:1</span><br><span class="line">x:2</span><br><span class="line">x:3</span><br><span class="line">x:4</span><br><span class="line">e.value: None</span><br></pre></td></tr></table></figure></p>
<ul>
<li>python map reduce 实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def pow2(val):</span><br><span class="line">...     return val**2</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; list_1 = [1,2,3,4,5]</span><br><span class="line">&gt;&gt;&gt; list(map(pow2,list_1))</span><br><span class="line">[1, 4, 9, 16, 25]</span><br><span class="line">&gt;&gt;&gt; def sum(x,y):</span><br><span class="line">...     return x+y</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; from functools import reduce</span><br><span class="line">&gt;&gt;&gt; reduce(sum,list(map(pow2,list_1)))</span><br><span class="line">55</span><br><span class="line"></span><br><span class="line">强悍的 lambda</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; from functools import reduce</span><br><span class="line">&gt;&gt;&gt; reduce(lambda x,y:x+y,list(map(lambda x:x**2,[1,2,3,4,5,6,7])))</span><br></pre></td></tr></table></figure>
<ul>
<li>注意区别 Iterable  可迭代 与 Iterator   惰性迭代器</li>
</ul>
<h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def lazy_sum(*args):</span><br><span class="line">...     def sum():</span><br><span class="line">...         ax=0</span><br><span class="line">...         for n in args:</span><br><span class="line">...          ax=ax+n</span><br><span class="line">...         return ax</span><br><span class="line">...     return sum</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; lazy_sum(1,2,3,4,5)</span><br><span class="line">&lt;function lazy_sum.&lt;locals&gt;.sum at 0x013902B8&gt;</span><br><span class="line">&gt;&gt;&gt; f=lazy_sum(1,2,3,4,5)</span><br><span class="line">&gt;&gt;&gt; f()</span><br><span class="line">15</span><br></pre></td></tr></table></figure>
<p>##win 下 python 清屏<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import os</span><br><span class="line">&gt;&gt;&gt; def clear():</span><br><span class="line">...     os.system(&apos;cls&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; import os</span><br><span class="line">&gt;&gt;&gt; def cls():</span><br><span class="line">...     if os.name.upper() == &apos;NT&apos;:</span><br><span class="line">...         os.system(&apos;cls&apos;)</span><br><span class="line">...     else:</span><br><span class="line">...         os.system(&apos;clear&apos;)</span><br></pre></td></tr></table></figure></p>
<h2 id="可变参数，巧调用"><a href="#可变参数，巧调用" class="headerlink" title="可变参数，巧调用"></a>可变参数，巧调用</h2><p>##python的可变参数和关键字参数(*args **kw)</p>
<p>##<a href="https://www.jianshu.com/p/98f7e34845b5" target="_blank" rel="noopener">讲*args 可变参数, **kw 关键字参数非常好的文章</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def test(*args):</span><br><span class="line">...     sum=0</span><br><span class="line">...     for n in args:</span><br><span class="line">...         sum=sum+n</span><br><span class="line">...     return sum</span><br><span class="line">... test([1,2,3,4])</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 6</span><br><span class="line">    test([1,2,3,4])</span><br><span class="line">       ^</span><br><span class="line">SyntaxError: invalid syntax</span><br><span class="line">&gt;&gt;&gt; test(*[1,2,3,4])</span><br><span class="line">10</span><br><span class="line">&gt;&gt;&gt; test(1,2,3,4)</span><br><span class="line">10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在 python3 中已经废除了 dict 的 has_key 方法 用  key in dict 这种方式代替</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; def person(*args,**kw):</span><br><span class="line">...     l=[]</span><br><span class="line">...     for n in args:</span><br><span class="line">...         l.append(n)</span><br><span class="line">...     dic=kw</span><br><span class="line">...     if &apos;city&apos; in dic:</span><br><span class="line">...         pass</span><br><span class="line">...     if &apos;job&apos; in dic:</span><br><span class="line">...         pass</span><br><span class="line">...     print(&apos;l:&#123;&#125; dic &#123;&#125;&apos;.format(l,dic))</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; person(&apos;tom&apos;,2,city=&apos;changsha&apos;,job=&apos;unknown&apos;)</span><br><span class="line">l:[&apos;tom&apos;, 2] dic &#123;&apos;city&apos;: &apos;changsha&apos;, &apos;job&apos;: &apos;unknown&apos;&#125;</span><br><span class="line"></span><br><span class="line">进阶</span><br><span class="line">&gt;&gt;&gt; extra = &#123;&apos;city&apos;:&apos;cs&apos;,&apos;job&apos;:&apos;developer&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; tuple=(&apos;tom&apos;,30)</span><br><span class="line">&gt;&gt;&gt; person(*tuple,**extra)</span><br><span class="line">l:[&apos;tom&apos;, 30] dic &#123;&apos;city&apos;: &apos;cs&apos;, &apos;job&apos;: &apos;developer&apos;&#125;</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>##装饰器类似于 java 里的 AOP <strong>动态代理</strong>,或者<strong>继承组合</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import functools</span><br><span class="line">&gt;&gt;&gt; #自定义文本消息的事务装饰器</span><br><span class="line">... def trans(text):</span><br><span class="line">...     def decorater(func):</span><br><span class="line">...         @functools.wraps(func)</span><br><span class="line">...         def wrapper(*args,**kw):</span><br><span class="line">...             print(&apos;&#123;&#125; &#123;&#125;&apos;.format(text,func.__name__))</span><br><span class="line">...             return func(*args,**kw)</span><br><span class="line">...         return wrapper</span><br><span class="line">...     return decorater</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; @trans(&apos;开启事务&apos;):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1</span><br><span class="line">    @trans(&apos;开启事务&apos;):</span><br><span class="line">                  ^</span><br><span class="line">SyntaxError: invalid syntax</span><br><span class="line">&gt;&gt;&gt; @trans(&apos;开启事务&apos;)</span><br><span class="line">... def trans_func():</span><br><span class="line">...     print(&apos;我是一个要被事务装饰的函数&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; trans_func()</span><br><span class="line">开启事务 trans_func</span><br><span class="line">我是一个要被事务装饰的函数</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; from functools import wraps</span><br><span class="line">&gt;&gt;&gt; def my_decorator(func):</span><br><span class="line">...     @wraps(func)</span><br><span class="line">...     def wrap_func():</span><br><span class="line">...         print(&apos;before...&apos;)</span><br><span class="line">...         func()</span><br><span class="line">...         print(&apos;after...&apos;)</span><br><span class="line">...     return wrap_func</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; @my_decorator</span><br><span class="line">... def func_a():</span><br><span class="line">...     print(&apos;func_a...&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; func_a()</span><br><span class="line">before...</span><br><span class="line">func_a...</span><br><span class="line">after...</span><br><span class="line">&gt;&gt;&gt; func_a.__name__</span><br><span class="line">&apos;func_a&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; from functools import wraps</span><br><span class="line">&gt;&gt;&gt; def custom_text(text):</span><br><span class="line">...     def decorater(func):</span><br><span class="line">...         @wraps(func)</span><br><span class="line">...         def wrap_decorated(*args,**kwargs):</span><br><span class="line">...             print(&apos;&#123;&#125; &#123;&#125;&apos;.format(text,func.__name__))</span><br><span class="line">...             return func(*args,**kwargs)</span><br><span class="line">...         return wrap_decorated</span><br><span class="line">...     return decorater</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; @custom_text(&apos;自定义文本信息...&apos;)</span><br><span class="line">... def tran(*args,**kwargs):</span><br><span class="line">...     for i in args:</span><br><span class="line">...         print(i,end=&apos;,&apos;)</span><br><span class="line">...     for key,value in kwargs.items():</span><br><span class="line">...         print(&apos;&#123;&#125;--&gt;&#123;&#125;&apos;.format(key,value))</span><br><span class="line">...     print(&apos;事务...社会...&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; args = (1,&apos;abc&apos;,3)</span><br><span class="line">&gt;&gt;&gt; from functools import wraps</span><br><span class="line">&gt;&gt;&gt; kwargs = dict(name=&apos;Frank&apos;,age=18)</span><br><span class="line">&gt;&gt;&gt; tran(*args,**kwargs)</span><br><span class="line">自定义文本信息... tran</span><br><span class="line">1,abc,3,name--&gt;Frank</span><br><span class="line">age--&gt;18</span><br><span class="line">事务...社会...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">from functools import wraps</span><br><span class="line"></span><br><span class="line">class LogIt(object):</span><br><span class="line">    def __init__(self,log_file=&apos;out.log&apos;):</span><br><span class="line">        self._log_file = log_file</span><br><span class="line">        </span><br><span class="line">    @property</span><br><span class="line">    def log_file(self):</span><br><span class="line">        return self._log_file</span><br><span class="line">    @log_file.setter</span><br><span class="line">    def log_file(self,log_file):</span><br><span class="line">        self._log_file = log_file</span><br><span class="line">    def __call__(self,func):</span><br><span class="line">        @wraps(func)</span><br><span class="line">        def wrap_func(*args,**kwargs):</span><br><span class="line">            log_string = &apos;&#123;&#125; &#123;&#125;&apos;.format(func.__name__,&apos;called...&apos;)</span><br><span class="line">            print(&apos;wrap_func logging...&#123;&#125;&apos;+log_string)</span><br><span class="line">            with open(self.log_file,&apos;a&apos;) as logfile:</span><br><span class="line">                logfile.write(log_string+&apos;\n&apos;)</span><br><span class="line">            self.notify(log_string)</span><br><span class="line">            return func(*args,**kwargs)</span><br><span class="line">        return wrap_func</span><br><span class="line">    def notify(self,log_string):</span><br><span class="line">        print(&apos;notify logging...&#123;&#125;&apos;.format(log_string))</span><br><span class="line"></span><br><span class="line">@LogIt(&apos;out1.log&apos;)</span><br><span class="line">def trans(*args,**kwargs):</span><br><span class="line">    for i in args:</span><br><span class="line">        print(i,end=&apos;,&apos;)</span><br><span class="line">    for key,value in kwargs.items():</span><br><span class="line">        pritn(&apos;&#123;&#125;&lt;--&gt;&#123;&#125;&apos;.format(key,value))</span><br><span class="line">        </span><br><span class="line">args = (&apos;trans start..&apos;,1,2,&apos;test&apos;)</span><br><span class="line">kwargs = dict(name=&apos;Frank&apos;,age=18)</span><br><span class="line">trans(*args,*kwargs)</span><br><span class="line"></span><br><span class="line">wrap_func logging...&#123;&#125;trans called...</span><br><span class="line">notify logging...trans called...</span><br><span class="line">trans start..,1,2,test,name,age,</span><br></pre></td></tr></table></figure></p>
<p>##偏函数，可以见 <strong>functools</strong> 多么强大值得好好学学<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; convert_int_from_8 = functools.partial(int,base=8)</span><br><span class="line">&gt;&gt;&gt; convert_int_from_8(12345)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: int() can&apos;t convert non-string with explicit base</span><br><span class="line">&gt;&gt;&gt; convert_int_from_8(&apos;12345&apos;)</span><br><span class="line">5349</span><br><span class="line"></span><br><span class="line"># kw 这种 dict 传值也是可以的</span><br><span class="line">&gt;&gt;&gt; kw = &#123;&apos;base&apos;:8&#125;</span><br><span class="line">&gt;&gt;&gt; convert_int_from_8 = functools.partial(int,base)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">NameError: name &apos;base&apos; is not defined</span><br><span class="line">&gt;&gt;&gt; convert_int_from_8 = functools.partial(int,**kw)</span><br><span class="line">&gt;&gt;&gt; convert_int_from_8(&apos;123456&apos;)</span><br><span class="line"></span><br><span class="line">最后，创建偏函数时，实际上可以接收函数对象、*args和**kw这3个参数，当传入：</span><br><span class="line"></span><br><span class="line">int2 = functools.partial(int, base=2)</span><br><span class="line">实际上固定了int()函数的关键字参数base，也就是：</span><br><span class="line"></span><br><span class="line">int2(&apos;10010&apos;)</span><br><span class="line">相当于：</span><br><span class="line"></span><br><span class="line">kw = &#123; &apos;base&apos;: 2 &#125;</span><br><span class="line">int(&apos;10010&apos;, **kw)</span><br><span class="line">当传入：</span><br><span class="line"></span><br><span class="line">max2 = functools.partial(max, 10)</span><br><span class="line">实际上会把10作为*args的一部分自动加到左边，也就是：</span><br><span class="line"></span><br><span class="line">max2(5, 6, 7)</span><br><span class="line">相当于：</span><br><span class="line"></span><br><span class="line">args = (10, 5, 6, 7)</span><br><span class="line">max(*args)</span><br><span class="line">结果为10。</span><br><span class="line"></span><br><span class="line"># 总结 就是 偏函数 其实就是把原本参数很多的函数简化参数，便于使用</span><br><span class="line">#当函数的参数个数太多，需要简化时，使用functools.partial可以创建一个新的函数，这个新函数可以固定住原函数的部分参数，从而在调用时更简单</span><br></pre></td></tr></table></figure></p>
<p>##模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">&apos;test module&apos;</span><br><span class="line">__author__ = &apos;Frank Li&apos;</span><br><span class="line">import sys</span><br><span class="line">def test():</span><br><span class="line">    args=sys.argv</span><br><span class="line">    if len(args)==1:</span><br><span class="line">        print(&apos;hello world!&apos;)</span><br><span class="line">    elif len(args)==2:</span><br><span class="line">        print(&apos;hello &#123;&#125;&apos;.format(args[1]))</span><br><span class="line">    else:</span><br><span class="line">        print(&apos;to many args!&apos;)</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    test()</span><br></pre></td></tr></table></figure></p>
<p>##模块搜索路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">默认情况下，Python解释器会搜索当前目录、所有已安装的内置模块和第三方模块，搜索路径存放在sys模块的path变量中：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; sys.path</span><br><span class="line">[&apos;&apos;, &apos;/Library/Frameworks/Python.framework/Versions/3.6/lib/python36.zip&apos;, &apos;/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6&apos;, ..., &apos;/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages&apos;]</span><br><span class="line">如果我们要添加自己的搜索目录，有两种方法：</span><br><span class="line"></span><br><span class="line">一是直接修改sys.path，添加要搜索的目录：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; sys.path.append(&apos;/Users/michael/my_py_scripts&apos;)</span><br><span class="line">这种方法是在运行时修改，运行结束后失效。</span><br><span class="line"></span><br><span class="line">第二种方法是设置环境变量PYTHONPATH，该环境变量的内容会被自动添加到模块搜索路径中。设置方式与设置Path环境变量类似。注意只需要添加你自己的搜索路径，Python自己本身的搜索路径不受影响。</span><br></pre></td></tr></table></figure></p>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Test(object):</span><br><span class="line">...     def __init__(self,*args):</span><br><span class="line">...         self.name,self.age=args[0],args[1]</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; t = Test(&apos;frank&apos;,18)</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">&lt;__main__.Test object at 0x02F00AB0&gt;</span><br><span class="line">&gt;&gt;&gt; t.name</span><br><span class="line">&apos;frank&apos;</span><br><span class="line">&gt;&gt;&gt; t.age</span><br><span class="line">18</span><br></pre></td></tr></table></figure>
<p>##再进一阶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Person(object):</span><br><span class="line">...     def __init__(self,name,age,*args,**kw):</span><br><span class="line">...         self.name,self.age = name,age</span><br><span class="line">...         for arg in args:</span><br><span class="line">...             print(&apos;arg: &#123;&#125;&apos;.format(arg))</span><br><span class="line">...         for key in kw:</span><br><span class="line">...             print(&apos;key: &#123;&#125;--&gt; value: &#123;&#125;&apos;.format(key,kw[key]))</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; args=(&apos;a&apos;,1,2,&apos;b&apos;)</span><br><span class="line">&gt;&gt;&gt; kw =&#123;&apos;city&apos;:&apos;changsha&apos;,&apos;job&apos;:&apos;developer&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; Person(&apos;frank&apos;,18,*args,**kw)</span><br><span class="line">arg: a</span><br><span class="line">arg: 1</span><br><span class="line">arg: 2</span><br><span class="line">arg: b</span><br><span class="line">key: city--&gt; value: changsha</span><br><span class="line">key: job--&gt; value: developer</span><br><span class="line">&lt;__main__.Person object at 0x02F00DD0&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...     def __init__(self,name,score,*args,**kw):</span><br><span class="line">...         self.name,self.score = name,score</span><br><span class="line">...         for arg in args:</span><br><span class="line">...             print(&apos;arg: &#123;&#125;&apos;.format(arg))</span><br><span class="line">...         for key in kw:</span><br><span class="line">...             if key==&apos;city&apos;:</span><br><span class="line">...                 self.city =kw[key]</span><br><span class="line">...             elif key==&apos;job&apos;:</span><br><span class="line">...                 self.job=kw[key]</span><br><span class="line">...             else:</span><br><span class="line">...                 pring(&apos;key: &#123;&#125; --&gt; value: &#123;&#125;&apos;.format(key,kw[key]))</span><br><span class="line">...     def get_grade(self):</span><br><span class="line">...             if  self.score &gt;= 90:</span><br><span class="line">...                 return &apos;优&apos;</span><br><span class="line">...             if 70&lt;self.score&lt;90:</span><br><span class="line">...                 return &apos;良&apos;</span><br><span class="line">...             elif 60&lt;self.score&lt;=70:</span><br><span class="line">...                 return &apos;几个&apos;</span><br><span class="line">...             else:</span><br><span class="line">...                 return &apos;不及格&apos;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; student = Student(&apos;frank&apos;,80,*args,**kw)</span><br><span class="line">arg: a</span><br><span class="line">arg: 1</span><br><span class="line">arg: 2</span><br><span class="line">arg: 3</span><br><span class="line">arg: c</span><br><span class="line">arg: d</span><br><span class="line">&gt;&gt;&gt; student.city</span><br><span class="line">&apos;changsha&apos;</span><br><span class="line">&gt;&gt;&gt; student.get_grade()</span><br><span class="line">&apos;良&apos;</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line">区别于 java 这种静态语言 , python 是动态语言</span><br><span class="line">小结</span><br><span class="line">类是创建实例的模板，而实例则是一个一个具体的对象，各个实例拥有的数据都互相独立，互不影响；</span><br><span class="line"></span><br><span class="line">方法就是与实例绑定的函数，和普通函数不同，方法可以直接访问实例的数据；</span><br><span class="line"></span><br><span class="line">通过在实例上调用方法，我们就直接操作了对象内部的数据，但无需知道方法内部的实现细节。</span><br><span class="line"></span><br><span class="line">和静态语言不同，Python允许对实例变量绑定任何数据，也就是说，对于两个实例变量，虽然它们都是同一个类的不同实例，但拥有的变量名称都可能不同：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; bart = Student(&apos;Bart Simpson&apos;, 59)</span><br><span class="line">&gt;&gt;&gt; lisa = Student(&apos;Lisa Simpson&apos;, 87)</span><br><span class="line">&gt;&gt;&gt; bart.age = 8</span><br><span class="line">&gt;&gt;&gt; bart.age</span><br><span class="line">8</span><br><span class="line">&gt;&gt;&gt; lisa.age</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">AttributeError: &apos;Student&apos; object has no attribute &apos;age&apos;</span><br></pre></td></tr></table></figure></p>
<h3 id="访问权限控制"><a href="#访问权限控制" class="headerlink" title="访问权限控制"></a>访问权限控制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">此方法不推荐， 应该用 set_gender() 而不是 bart._Student__gender 这种方式修改 gender 属性</span><br><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...     def __init__(self,name,gender):</span><br><span class="line">...         self.name=name</span><br><span class="line">...         self.__gender=gender</span><br><span class="line">...     def get_gender(self):</span><br><span class="line">...         return self.__gender</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; bart = Student(&apos;Bart&apos;, &apos;male&apos;)</span><br><span class="line">&gt;&gt;&gt; if bart.get_gender() != &apos;male&apos;:</span><br><span class="line">...     print(&apos;测试失败!&apos;)</span><br><span class="line">... else:</span><br><span class="line">...     bart._Student__gender=&apos;female&apos;</span><br><span class="line">...     if bart.get_gender() != &apos;female&apos;:</span><br><span class="line">...         print(&apos;测试失败!&apos;)</span><br><span class="line">...     else:</span><br><span class="line">...         print(&apos;测试成功！&apos;)</span><br><span class="line">...</span><br><span class="line">测试成功！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">正确做法：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...     def __init__(self,name,gender):</span><br><span class="line">...         self.name,self.__gender=name,gender</span><br><span class="line">...     def set_gender(self,gender):</span><br><span class="line">...         self.__gender = gender</span><br><span class="line">...     def get_gender(self):</span><br><span class="line">...         return self.__gender</span><br><span class="line"></span><br><span class="line"># 测试</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; bart = Student(&apos;Bart&apos;,&apos;male&apos;)</span><br><span class="line">&gt;&gt;&gt; if bart.get_gender() != &apos;male&apos;:</span><br><span class="line">...     print(&apos;测试失败~!&apos;)</span><br><span class="line">... else:</span><br><span class="line">...     bart.set_gender(&apos;female&apos;)</span><br><span class="line">...     if bart.get_gender() != &apos;female&apos;:</span><br><span class="line">...         print(&apos;测试失败!&apos;)</span><br><span class="line">...     else:</span><br><span class="line">...         print(&apos;测试成功~!&apos;)</span><br><span class="line">...</span><br><span class="line">测试成功~!</span><br></pre></td></tr></table></figure>
<h2 id="以为是多态，然而是多态，更不止是多态，-只要有-run-方法的-对象-都可以-往里丢-，这一点注意区分-java-的-接口以及父类"><a href="#以为是多态，然而是多态，更不止是多态，-只要有-run-方法的-对象-都可以-往里丢-，这一点注意区分-java-的-接口以及父类" class="headerlink" title="以为是多态，然而是多态，更不止是多态， 只要有 run 方法的 对象 都可以 往里丢 ，这一点注意区分 java 的 接口以及父类"></a>以为是多态，然而是多态，更不止是多态， 只要有 run 方法的 对象 都可以 往里丢 ，这一点注意区分 java 的 接口以及父类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Animal(object):</span><br><span class="line">...     def run(self):</span><br><span class="line">...         print(&apos;animal is running...&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; class Dog(Animal):</span><br><span class="line">...     def run(self):</span><br><span class="line">...         print(&apos;dog is running...&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; def run_twice(animal):</span><br><span class="line">...     animal.run()</span><br><span class="line">...     animal.run()</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; run_twice(Animal())</span><br><span class="line">animal is running...</span><br><span class="line">animal is running...</span><br><span class="line">&gt;&gt;&gt; run_twice(Dog())</span><br><span class="line">dog is running...</span><br><span class="line">dog is running...</span><br><span class="line"></span><br><span class="line"># 逝者如斯，东流不回 ，水不继承自 Animal 类 依旧可以 往 run_twice 这个方法里丢， 在 java 里是编译错误！！！</span><br><span class="line">&gt;&gt;&gt; class water(object):</span><br><span class="line">...     def run(self):</span><br><span class="line">...         print(&apos;water is running....and never back...&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; run_twice(water())</span><br><span class="line">water is running....and never back...</span><br><span class="line">water is running....and never back...</span><br></pre></td></tr></table></figure>
<h3 id="类型判断-type-vs-isinstance-》-isinstance-胜-！！！-总是优先使用-isinstance-判断"><a href="#类型判断-type-vs-isinstance-》-isinstance-胜-！！！-总是优先使用-isinstance-判断" class="headerlink" title="类型判断  type vs isinstance   ==》  isinstance 胜 ！！！ 总是优先使用 isinstance 判断"></a>类型判断  type vs isinstance   ==》  isinstance 胜 ！！！ 总是优先使用 isinstance 判断</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; type(123) == int</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; isinstance(123,int)</span><br><span class="line">True</span><br><span class="line"></span><br><span class="line">下面这种判断太过于复杂</span><br><span class="line">判断基本数据类型可以直接写int，str等，但如果要判断一个对象是否是函数怎么办？可以使用types模块中定义的常量：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; import types</span><br><span class="line">&gt;&gt;&gt; def fn():</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; type(fn)==types.FunctionType</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; type(abs)==types.BuiltinFunctionType</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; type(lambda x: x)==types.LambdaType</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; type((x for x in range(10)))==types.GeneratorType</span><br><span class="line">True</span><br><span class="line"></span><br><span class="line">并且还可以判断一个变量是否是某些类型中的一种，比如下面的代码就可以判断是否是list或者tuple：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; isinstance([1, 2, 3], (list, tuple))</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; isinstance((1, 2, 3), (list, tuple))</span><br><span class="line">True</span><br><span class="line">总是优先使用isinstance()判断类型，可以将指定类型及其子类“一网打尽”。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># dir 查看，然后等价</span><br><span class="line">&gt;&gt;&gt; len(&apos;ABC&apos;)                                                                                                          3                                                                                                                       &gt;&gt;&gt; dir(&apos;ABC&apos;)                                                                                                          [&apos;__add__&apos;, &apos;__class__&apos;, &apos;__contains__&apos;, &apos;__delattr__&apos;, &apos;__dir__&apos;, &apos;__doc__&apos;, &apos;__eq__&apos;, &apos;__format__&apos;, &apos;__ge__&apos;, &apos;__getattribute__&apos;, &apos;__getitem__&apos;, &apos;__getnewargs__&apos;, &apos;__gt__&apos;, &apos;__hash__&apos;, &apos;__init__&apos;, &apos;__init_subclass__&apos;, &apos;__iter__&apos;, &apos;__le__&apos;, &apos;__len__&apos;, &apos;__lt__&apos;, &apos;__mod__&apos;, &apos;__mul__&apos;, &apos;__ne__&apos;, &apos;__new__&apos;, &apos;__reduce__&apos;, &apos;__reduce_ex__&apos;, &apos;__repr__&apos;, &apos;__rmod__&apos;, &apos;__rmul__&apos;, &apos;__setattr__&apos;, &apos;__sizeof__&apos;, &apos;__str__&apos;, &apos;__subclasshook__&apos;, &apos;capitalize&apos;, &apos;casefold&apos;, &apos;center&apos;, &apos;count&apos;, &apos;encode&apos;, &apos;endswith&apos;, &apos;expandtabs&apos;, &apos;find&apos;, &apos;format&apos;, &apos;format_map&apos;, &apos;index&apos;, &apos;isalnum&apos;, &apos;isalpha&apos;, &apos;isdecimal&apos;, &apos;isdigit&apos;, &apos;isidentifier&apos;, &apos;islower&apos;, &apos;isnumeric&apos;, &apos;isprintable&apos;, &apos;isspace&apos;, &apos;istitle&apos;, &apos;isupper&apos;, &apos;join&apos;, &apos;ljust&apos;, &apos;lower&apos;, &apos;lstrip&apos;, &apos;maketrans&apos;, &apos;partition&apos;, &apos;replace&apos;, &apos;rfind&apos;, &apos;rindex&apos;, &apos;rjust&apos;, &apos;rpartition&apos;, &apos;rsplit&apos;, &apos;rstrip&apos;, &apos;split&apos;, &apos;splitlines&apos;, &apos;startswith&apos;, &apos;strip&apos;, &apos;swapcase&apos;, &apos;title&apos;, &apos;translate&apos;, &apos;upper&apos;, &apos;zfill&apos;] </span><br><span class="line"></span><br><span class="line"># 创建自己的 len 方法， 自己写一个 __len__()  方法就是了</span><br><span class="line">&gt;&gt;&gt; class myStr():</span><br><span class="line">...     def __init__(self,val):</span><br><span class="line">...         self.__val = val</span><br><span class="line">...     def __len__(self):</span><br><span class="line">...         return len(self.__val)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; myStr(&apos;abc&apos;)</span><br><span class="line">&lt;__main__.myStr object at 0x02F363D0&gt;</span><br><span class="line">&gt;&gt;&gt; len(myStr(&apos;abc&apos;))</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line"># 查看 python 内建函数</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; dir(__builtins__)</span><br><span class="line">[&apos;ArithmeticError&apos;, &apos;AssertionError&apos;, &apos;AttributeError&apos;, &apos;BaseException&apos;, &apos;BlockingIOError&apos;, &apos;BrokenPipeError&apos;, &apos;BufferError&apos;, &apos;BytesWarning&apos;, &apos;ChildProcessError&apos;, &apos;ConnectionAbortedError&apos;, &apos;ConnectionError&apos;, &apos;ConnectionRefusedError&apos;, &apos;ConnectionResetError&apos;, &apos;DeprecationWarning&apos;, &apos;EOFError&apos;, &apos;Ellipsis&apos;, &apos;EnvironmentError&apos;, &apos;Exception&apos;, &apos;False&apos;, &apos;FileExistsError&apos;, &apos;FileNotFoundError&apos;, &apos;FloatingPointError&apos;, &apos;FutureWarning&apos;, &apos;GeneratorExit&apos;, &apos;IOError&apos;, &apos;ImportError&apos;, &apos;ImportWarning&apos;, &apos;IndentationError&apos;, &apos;IndexError&apos;, &apos;InterruptedError&apos;, &apos;IsADirectoryError&apos;, &apos;KeyError&apos;, &apos;KeyboardInterrupt&apos;, &apos;LookupError&apos;, &apos;MemoryError&apos;, &apos;ModuleNotFoundError&apos;, &apos;NameError&apos;, &apos;None&apos;, &apos;NotADirectoryError&apos;, &apos;NotImplemented&apos;, &apos;NotImplementedError&apos;, &apos;OSError&apos;, &apos;OverflowError&apos;, &apos;PendingDeprecationWarning&apos;, &apos;PermissionError&apos;, &apos;ProcessLookupError&apos;, &apos;RecursionError&apos;, &apos;ReferenceError&apos;, &apos;ResourceWarning&apos;, &apos;RuntimeError&apos;, &apos;RuntimeWarning&apos;, &apos;StopAsyncIteration&apos;, &apos;StopIteration&apos;, &apos;SyntaxError&apos;, &apos;SyntaxWarning&apos;, &apos;SystemError&apos;, &apos;SystemExit&apos;, &apos;TabError&apos;, &apos;TimeoutError&apos;, &apos;True&apos;, &apos;TypeError&apos;, &apos;UnboundLocalError&apos;, &apos;UnicodeDecodeError&apos;, &apos;UnicodeEncodeError&apos;, &apos;UnicodeError&apos;, &apos;UnicodeTranslateError&apos;, &apos;UnicodeWarning&apos;, &apos;UserWarning&apos;, &apos;ValueError&apos;, &apos;Warning&apos;, &apos;WindowsError&apos;, &apos;ZeroDivisionError&apos;, &apos;_&apos;, &apos;__build_class__&apos;, &apos;__debug__&apos;, &apos;__doc__&apos;, &apos;__import__&apos;, &apos;__loader__&apos;, &apos;__name__&apos;, &apos;__package__&apos;, &apos;__spec__&apos;, &apos;abs&apos;, &apos;all&apos;, &apos;any&apos;, &apos;ascii&apos;, &apos;bin&apos;, &apos;bool&apos;, &apos;bytearray&apos;, &apos;bytes&apos;, &apos;callable&apos;, &apos;chr&apos;, &apos;classmethod&apos;, &apos;compile&apos;, &apos;complex&apos;, &apos;copyright&apos;, &apos;credits&apos;, &apos;delattr&apos;, &apos;dict&apos;, &apos;dir&apos;, &apos;divmod&apos;, &apos;enumerate&apos;, &apos;eval&apos;, &apos;exec&apos;, &apos;exit&apos;, &apos;filter&apos;, &apos;float&apos;, &apos;format&apos;, &apos;frozenset&apos;, &apos;getattr&apos;, &apos;globals&apos;, &apos;hasattr&apos;, &apos;hash&apos;, &apos;help&apos;, &apos;hex&apos;, &apos;id&apos;, &apos;input&apos;, &apos;int&apos;, &apos;isinstance&apos;, &apos;issubclass&apos;, &apos;iter&apos;, &apos;len&apos;, &apos;license&apos;, &apos;list&apos;, &apos;locals&apos;, &apos;map&apos;, &apos;max&apos;, &apos;memoryview&apos;, &apos;min&apos;, &apos;next&apos;, &apos;object&apos;, &apos;oct&apos;, &apos;open&apos;, &apos;ord&apos;, &apos;pow&apos;, &apos;print&apos;, &apos;property&apos;, &apos;quit&apos;, &apos;range&apos;, &apos;repr&apos;, &apos;reversed&apos;, &apos;round&apos;, &apos;set&apos;, &apos;setattr&apos;, &apos;slice&apos;, &apos;sorted&apos;, &apos;staticmethod&apos;, &apos;str&apos;, &apos;sum&apos;, &apos;super&apos;, &apos;tuple&apos;, &apos;type&apos;, &apos;vars&apos;, &apos;zip&apos;]</span><br><span class="line"></span><br><span class="line"># 查看一波</span><br><span class="line">&gt;&gt;&gt; &apos;hasattr&apos; in dir(__builtins__)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; &apos;getattr&apos; in dir(__builtins__)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line">小结</span><br><span class="line">通过内置的一系列函数，我们可以对任意一个Python对象进行剖析，拿到其内部的数据。要注意的是，只有在不知道对象信息的时候，我们才会去获取对象信息。如果可以直接写：</span><br><span class="line"></span><br><span class="line">sum = obj.x + obj.y</span><br><span class="line">就不要写：</span><br><span class="line"></span><br><span class="line">sum = getattr(obj, &apos;x&apos;) + getattr(obj, &apos;y&apos;)</span><br><span class="line">一个正确的用法的例子如下：</span><br><span class="line"></span><br><span class="line">def readImage(fp):</span><br><span class="line">    if hasattr(fp, &apos;read&apos;):</span><br><span class="line">        return readData(fp)</span><br><span class="line">    return None</span><br><span class="line">假设我们希望从文件流fp中读取图像，我们首先要判断该fp对象是否存在read方法，如果存在，则该对象是一个流，如果不存在，则无法读取。hasattr()就派上了用场。</span><br><span class="line"></span><br><span class="line">请注意，在Python这类动态语言中，根据鸭子类型，有read()方法，不代表该fp对象就是一个文件流，它也可能是网络流，也可能是内存中的一个字节流，但只要read()方法返回的是有效的图像数据，就不影响读取图像的功能。</span><br></pre></td></tr></table></figure>
<h2 id="getter-setter"><a href="#getter-setter" class="headerlink" title="getter setter"></a>getter setter</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...     def __init__(self,name,*args,**kw):</span><br><span class="line">...         self.__name = name</span><br><span class="line">...         for arg in args:</span><br><span class="line">...               print(&apos;arg: &#123;&#125;&apos;.format(arg))</span><br><span class="line">...         for key in kw:</span><br><span class="line">...               if key == &apos;city&apos;:</span><br><span class="line">...                   print(&apos;city %s&apos; %kw[key])</span><br><span class="line">...     @property</span><br><span class="line">...     def score(self):</span><br><span class="line">...         return  self._score</span><br><span class="line">...     @score.setter</span><br><span class="line">...     def score(self,value):</span><br><span class="line">...         self._score = value</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; s = Student()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: __init__() missing 1 required positional argument: &apos;name&apos;</span><br><span class="line">&gt;&gt;&gt; s = Student(&apos;frank&apos;,*(1,2,&apos;a&apos;,3),**&#123;&apos;city&apos;:&apos;changsha&apos;,&apos;job&apos;:&apos;unknown&apos;&#125;)</span><br><span class="line">arg: 1</span><br><span class="line">arg: 2</span><br><span class="line">arg: a</span><br><span class="line">arg: 3</span><br><span class="line">city changsha</span><br><span class="line">&gt;&gt;&gt; s.score = 80</span><br><span class="line">&gt;&gt;&gt; s.score</span><br><span class="line">80</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class Screen(object):</span><br><span class="line">...     @property</span><br><span class="line">...     def width(self):</span><br><span class="line">...         return self._width</span><br><span class="line">...     @width.setter</span><br><span class="line">...     def width(self,width):</span><br><span class="line">...          self._width = width</span><br><span class="line">...     @property</span><br><span class="line">...     def height(self):</span><br><span class="line">...          return self._height</span><br><span class="line">...     @height.setter</span><br><span class="line">...     def height(self,height):</span><br><span class="line">...          self._height = height</span><br><span class="line">...     @property</span><br><span class="line">...     def resolution(self):</span><br><span class="line">...          self._resolution = self._width * self._height</span><br><span class="line">...          return self._resolution</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; s = Screen()</span><br><span class="line">&gt;&gt;&gt; s.width = 600</span><br><span class="line">&gt;&gt;&gt; s.height = 800</span><br><span class="line">&gt;&gt;&gt; s.resolution</span><br><span class="line">480000</span><br></pre></td></tr></table></figure>
<p>##记住标准写法就好，别追问，会晕！！！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...      def __init__(self,name,score,*args,**kw):</span><br><span class="line">...           self._name = name</span><br><span class="line">...           self._score = score</span><br><span class="line">...           if len(args)!=0:</span><br><span class="line">...               self.arg = args[0]</span><br><span class="line">...           for key in kw:</span><br><span class="line">...               if key == &apos;city&apos;:</span><br><span class="line">...                   self.city = kw[key]</span><br><span class="line">...      @property</span><br><span class="line">...      def name(self):</span><br><span class="line">...          return self._name</span><br><span class="line">...      @name.setter</span><br><span class="line">...      def name(self,name):</span><br><span class="line">...          self._name = name</span><br><span class="line">...      @property</span><br><span class="line">...      def score(self):</span><br><span class="line">...           return self._score</span><br><span class="line">...      @score.setter</span><br><span class="line">...      def score(self,score):</span><br><span class="line">...           self._score = score</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; args=(&apos;a&apos;,1,2)</span><br><span class="line">&gt;&gt;&gt; kw = &#123;&apos;city&apos;:&apos;changsha&apos;,&apos;job&apos;:&apos;unknown&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; s = Student(&apos;frank&apos;,100,*args,**kw)</span><br><span class="line">&gt;&gt;&gt; s.name</span><br><span class="line">&apos;frank&apos;</span><br><span class="line">&gt;&gt;&gt; s.score</span><br><span class="line">100</span><br><span class="line">&gt;&gt;&gt; s.city</span><br><span class="line">&apos;changsha&apos;</span><br><span class="line">&gt;&gt;&gt; s.arg</span><br><span class="line">&apos;a&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...     def __init__(self,name,age,score,*args,**kw):</span><br><span class="line">...         self._name=name</span><br><span class="line">...         self._age = age</span><br><span class="line">...         self._score = score</span><br><span class="line">...         if len(args)!=0:</span><br><span class="line">...             self.arg = args[0]</span><br><span class="line">...         for key in kw:</span><br><span class="line">...             if key == &apos;city&apos;:</span><br><span class="line">...                 self.city = kw[key]</span><br><span class="line">...     @property</span><br><span class="line">...     def name(self):</span><br><span class="line">...         return self._name</span><br><span class="line">...     @name.setter</span><br><span class="line">...     def name(self,name):</span><br><span class="line">...         self._name = name</span><br><span class="line">...     @property</span><br><span class="line">...     def age(self):</span><br><span class="line">...         return self._age</span><br><span class="line">...     @age.setter</span><br><span class="line">...     def age(self,age):</span><br><span class="line">...         if not isinstance(age,int):</span><br><span class="line">...             raise TypeError(&apos;年龄必须为整数!&apos;)</span><br><span class="line">...         else:</span><br><span class="line">...             self._age = age</span><br><span class="line">...     @property</span><br><span class="line">...     def score(self):</span><br><span class="line">...         return self._score</span><br><span class="line">...     @score.setter</span><br><span class="line">...     def score(self,score):</span><br><span class="line">...         if not isinstance(score,int):</span><br><span class="line">...             raise TypeError(&apos;分数应该为整数!&apos;)</span><br><span class="line">...         elif not  0&lt;= score &lt;= 100:</span><br><span class="line">...             raise ValueError(&apos;分数必须介于0-100之间!&apos;)</span><br><span class="line">...         else:</span><br><span class="line">...             self._score = score</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; s = Student(&apos;frank&apos;,18,100)</span><br><span class="line">&gt;&gt;&gt; s.name</span><br><span class="line">&apos;frank&apos;</span><br><span class="line">&gt;&gt;&gt; s.age</span><br><span class="line">18</span><br><span class="line">&gt;&gt;&gt; s.score</span><br><span class="line">100</span><br></pre></td></tr></table></figure></p>
<h2 id="多继承-，对应-java-extends-class-implements-Runnable-这种写法，-只是-python-木有-接口一说-貌似，我也不确定哈，自己去查查吧"><a href="#多继承-，对应-java-extends-class-implements-Runnable-这种写法，-只是-python-木有-接口一说-貌似，我也不确定哈，自己去查查吧" class="headerlink" title="多继承 ，对应 java  extends class  implements  Runnable   这种写法， 只是 python 木有 接口一说 貌似，我也不确定哈，自己去查查吧"></a>多继承 ，对应 java  extends class  implements  Runnable   这种写法， 只是 python 木有 接口一说 貌似，我也不确定哈，自己去查查吧</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Animal():</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; Animal()</span><br><span class="line">&lt;__main__.Animal object at 0x008DCF30&gt;</span><br><span class="line">&gt;&gt;&gt; class Mammal(Animal):</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; class Runnable(object):</span><br><span class="line">...     def run(self):</span><br><span class="line">...          print(&apos;running......&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; class Flyable(object):</span><br><span class="line">...     def fly(self):</span><br><span class="line">...         print(&apos;flying......&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; class Dog(Mammal,Runnable):</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; d = Dog()</span><br><span class="line">&gt;&gt;&gt; d.run()</span><br><span class="line">running......</span><br><span class="line">&gt;&gt;&gt; class Bat(Mammal,Flyable):</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; b = Bat()</span><br><span class="line">&gt;&gt;&gt; b.fly()</span><br><span class="line">flying......</span><br></pre></td></tr></table></figure>
<h2 id="定制类"><a href="#定制类" class="headerlink" title="定制类"></a>定制类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># __slot__  固定 self  属性个数</span><br><span class="line"># __str__   区别 于  __repr__   前一个 是 返回给 用户的 ， 第二个 是 返回给 程序员 用来调试的 </span><br><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...      def __init__(self,name):</span><br><span class="line">...           self.name = name</span><br><span class="line">...      def __str__(self):</span><br><span class="line">...           return &apos;Student object (name = &#123;&#125;)&apos;.format(self.name)</span><br><span class="line">...      __repr__ = __str__</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; s = Student(&apos;frank&apos;)</span><br><span class="line">&gt;&gt;&gt; s</span><br><span class="line">Student object (name = frank)</span><br></pre></td></tr></table></figure>
<h2 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from enum import Enum</span><br><span class="line">&gt;&gt;&gt; Month = Enum(&apos;Month&apos;,(&apos;Jan&apos;, &apos;Feb&apos;, &apos;Mar&apos;, &apos;Apr&apos;, &apos;May&apos;, &apos;Jun&apos;, &apos;Jul&apos;, &apos;Aug&apos;, &apos;Sep&apos;, &apos;Oct&apos;, &apos;Nov&apos;, &apos;Dec&apos;))</span><br><span class="line">&gt;&gt;&gt; for name,member in Month.__members__.items():</span><br><span class="line">...     print(name, &apos;=&gt;&apos;, member, &apos;,&apos;, member.value)</span><br><span class="line">...</span><br><span class="line">Jan =&gt; Month.Jan , 1</span><br><span class="line">Feb =&gt; Month.Feb , 2</span><br><span class="line">Mar =&gt; Month.Mar , 3</span><br><span class="line">Apr =&gt; Month.Apr , 4</span><br><span class="line">May =&gt; Month.May , 5</span><br><span class="line">Jun =&gt; Month.Jun , 6</span><br><span class="line">Jul =&gt; Month.Jul , 7</span><br><span class="line">Aug =&gt; Month.Aug , 8</span><br><span class="line">Sep =&gt; Month.Sep , 9</span><br><span class="line">Oct =&gt; Month.Oct , 10</span><br><span class="line">Nov =&gt; Month.Nov , 11</span><br><span class="line">Dec =&gt; Month.Dec , 12</span><br><span class="line">&gt;&gt;&gt; from enum import Enum,unique</span><br><span class="line">&gt;&gt;&gt; @unique</span><br><span class="line">... class Weekday(Enum):</span><br><span class="line">...     Sun=0</span><br><span class="line">...     Mon=1</span><br><span class="line">...     Tue=2</span><br><span class="line">...     Wed=3</span><br><span class="line">...     Thu=4</span><br><span class="line">...     Fri=5</span><br><span class="line">...     Sat =6</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; day1 = Weekday.Sun</span><br><span class="line">&gt;&gt;&gt; day1</span><br><span class="line">&lt;Weekday.Sun: 0&gt;</span><br><span class="line">&gt;&gt;&gt; day1.value</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt; day1 = Weekday(0)</span><br><span class="line">&gt;&gt;&gt; day1</span><br><span class="line">&lt;Weekday.Sun: 0&gt;</span><br><span class="line">&gt;&gt;&gt; day1.value</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; for name,member in Weekday.__members__.items():</span><br><span class="line">...     print(name,&apos;==&gt;&apos;,member)</span><br><span class="line">...</span><br><span class="line">Sun ==&gt; Weekday.Sun</span><br><span class="line">Mon ==&gt; Weekday.Mon</span><br><span class="line">Tue ==&gt; Weekday.Tue</span><br><span class="line">Wed ==&gt; Weekday.Wed</span><br><span class="line">Thu ==&gt; Weekday.Thu</span><br><span class="line">Fri ==&gt; Weekday.Fri</span><br><span class="line">Sat ==&gt; Weekday.Sat</span><br></pre></td></tr></table></figure>
<p>##枚举类与错误综合小例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class Student(object):</span><br><span class="line">...     def __init__(self,name,gender):</span><br><span class="line">...          if not isinstance(gender,Gender):</span><br><span class="line">...               raise TypeError(&apos;&#123;&#125;&apos;.format(&apos;传入的性别类型异常&apos;))</span><br><span class="line">...          self.__name = name</span><br><span class="line">...          self.gender = gender</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; bart = Student(&apos;Bart&apos;, Gender.Male)</span><br><span class="line">&gt;&gt;&gt; if bart.gender == Gender.Male:</span><br><span class="line">...     print(&apos;测试通过!&apos;)</span><br><span class="line">... else:</span><br><span class="line">...     print(&apos;测试失败!&apos;)</span><br><span class="line">...</span><br><span class="line">测试通过!</span><br><span class="line">&gt;&gt;&gt; bart = Student(&apos;Bart&apos;, &apos;男&apos;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 4, in __init__</span><br><span class="line">TypeError: 传入的性别类型异常</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="元类，我服了！！！"><a href="#元类，我服了！！！" class="headerlink" title="元类，我服了！！！"></a>元类，我服了！！！</h2><p><a href="http://blog.jobbole.com/21351/" target="_blank" rel="noopener">推荐一篇高分文章读懂元类</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def fn(self,world = &apos;world!&apos;):</span><br><span class="line">...     print(&apos;hello &#123;&#125;&apos;.format(world))</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; Hello = type(&apos;Hello&apos;,(object,),dict(hello = fn))</span><br><span class="line">&gt;&gt;&gt; h = Hello()</span><br><span class="line">&gt;&gt;&gt; h.hello()</span><br><span class="line">hello world!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class ListMetaclass(type):</span><br><span class="line">...     def __new__(cls,name,bases,attrs):</span><br><span class="line">...         attrs[&apos;add&apos;]=lambda self,value:self.append(value)</span><br><span class="line">...         return type.__new__(cls,name,bases,attrs)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; class MyList(list,metaclass=ListMetaclass):</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; l = MyList()</span><br><span class="line">&gt;&gt;&gt; l.add(5)</span><br><span class="line">&gt;&gt;&gt; l</span><br><span class="line">[5]</span><br><span class="line"></span><br><span class="line"># 类是一种特殊的对象，因为python 是动态语言，可以后期绑定属性方法等</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; class ObjectCreator():</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; print(ObjectCreator)</span><br><span class="line">&lt;class &apos;__main__.ObjectCreator&apos;&gt;</span><br><span class="line">&gt;&gt;&gt; print(hasattr(ObjectCreator,&apos;new_attribute&apos;))</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; ObjectCreator.new_attribute = &apos;foo&apos;</span><br><span class="line">&gt;&gt;&gt; print(hasattr(ObjectCreator,&apos;new_attribute&apos;))</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; ObjectCreatorMirror = ObjectCreator</span><br><span class="line">&gt;&gt;&gt; print(ObjectCreatorMirror())</span><br><span class="line">&lt;__main__.ObjectCreator object at 0x00859A30&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def div(a,b):</span><br><span class="line">...     if not isinstance(a,int) or not isinstance(b,int):</span><br><span class="line">...         raise TypeError(&apos;本方法中除数与被除数都要为整数!&apos;)</span><br><span class="line">...     try:</span><br><span class="line">...         r = a/b</span><br><span class="line">...         print(&apos;r: &#123;&#125;&apos;.format(r))</span><br><span class="line">...     except ZeroDivisionError as e:</span><br><span class="line">...         print(&apos;except: &apos;,e)</span><br><span class="line">...     finally:</span><br><span class="line">...         print(&apos;finally...&apos;)</span><br><span class="line">...     print(&apos;END...&apos;)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; r = div(1,2)</span><br><span class="line">r: 0.5</span><br><span class="line">finally...</span><br><span class="line">END...</span><br><span class="line">&gt;&gt;&gt; div(1,0)</span><br><span class="line">except:  division by zero</span><br><span class="line">finally...</span><br><span class="line">END...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; def foo(i):</span><br><span class="line">...     return 10/i</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; def bar(j):</span><br><span class="line">...     return foo(j) *2</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; def main(n):</span><br><span class="line">...     try:</span><br><span class="line">...         bar(n)</span><br><span class="line">...     except ZeroDivisionError as e:</span><br><span class="line">...         logging.exception(e)</span><br><span class="line">...     finally:</span><br><span class="line">...         print(&apos;end...&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; main(5)</span><br><span class="line">end...</span><br><span class="line">&gt;&gt;&gt; main(0)</span><br><span class="line">ERROR:root:division by zero</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 3, in main</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 2, in bar</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 2, in foo</span><br><span class="line">ZeroDivisionError: division by zero</span><br><span class="line">end...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">改错：</span><br><span class="line"></span><br><span class="line">from functools import reduce</span><br><span class="line"></span><br><span class="line">def str2num(s):</span><br><span class="line">    try:</span><br><span class="line">        r = int(s)</span><br><span class="line">    except ValueError as e:</span><br><span class="line">        if isinstance(s,str):</span><br><span class="line">            s=s.replace(&apos;.&apos;,&apos;&apos;)</span><br><span class="line">            r = int(s)</span><br><span class="line">        else:</span><br><span class="line">            raise ValueError(&apos;传入的不是字符串!&apos;)</span><br><span class="line">    finally:</span><br><span class="line">        pass</span><br><span class="line">    return int(s)</span><br><span class="line"></span><br><span class="line">def calc(exp):</span><br><span class="line">    ss = exp.split(&apos;+&apos;)</span><br><span class="line">    ns = map(str2num, ss)</span><br><span class="line">    return reduce(lambda acc, x: acc + x, ns)</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    r = calc(&apos;100 + 200 + 345&apos;)</span><br><span class="line">    print(&apos;100 + 200 + 345 =&apos;, r)</span><br><span class="line">    r = calc(&apos;99 + 88 + 7.6&apos;)</span><br><span class="line">    print(&apos;99 + 88 + 7.6 =&apos;, r)</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
<h2 id="既然如此重要，再谈元类"><a href="#既然如此重要，再谈元类" class="headerlink" title="既然如此重要，再谈元类"></a>既然如此重要，再谈元类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"># 定义一个函数，用来待会儿在 类 内部或绑定，或调用</span><br><span class="line">def print_s(s):</span><br><span class="line">    print(s)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 定义元类， 必须继承自 type 才可以被当做元类，被反射</span><br><span class="line">class ObjectCreatorMetaClass(type):</span><br><span class="line">    def __new__(current_class_name,class_tobe_created_name,base_classess_name_tuple,attrs_hold_dict):</span><br><span class="line">        # 打印一波传进来的参数会发现基本跟命名一致</span><br><span class="line">        print_s(&apos;current_class_name: &#123;&#125;&apos;.format(current_class_name))</span><br><span class="line">        print_s(&apos;class_tobe_created_name: &#123;&#125;&apos;.format(class_tobe_created_name))</span><br><span class="line">        print_s(&apos;base_classess_name_tuple: &#123;&#125;&apos;.format(base_classess_name_tuple))</span><br><span class="line">        print_s(&apos;attrs_hold_dict: &#123;&#125;&apos;.format(attrs_hold_dict))</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        #为要被创建的类 ObjectCreator 添加方法，属性都可以</span><br><span class="line">        attrs_hold_dict[&apos;flag&apos;] = True</span><br><span class="line">        attrs_hold_dict[&apos;current_class_name_print&apos;] = print_s(current_class_name)</span><br><span class="line">        attrs_hold_dict[&apos;class_tobe_created_name_print&apos;] = print_s(class_tobe_created_name)</span><br><span class="line">        attrs_hold_dict[&apos;base_classess_name_tuple_print&apos;] = print_s(base_classess_name_tuple)</span><br><span class="line">        attrs_hold_dict[&apos;attrs_hold_dict_print&apos;] = print_s(attrs_hold_dict)</span><br><span class="line">        return type.__new__(current_class_name,class_tobe_created_name,base_classess_name_tuple,attrs_hold_dict)</span><br><span class="line"></span><br><span class="line"># 定义我们要被创建的 类，为了方便查看传进去的 base_classess_name_tuple ，我们手动让他继承一下 object</span><br><span class="line">class ObjectCreator(object,metaclass = ObjectCreatorMetaClass):</span><br><span class="line">        pass</span><br><span class="line">    </span><br><span class="line"># 思考为什么 第一次打印时候 attrs_hold_dict 会比后一次 打印 少掉一部分属性，方法 (如 &apos;current_class_name_print&apos;: None, &apos;flag&apos;: True)</span><br><span class="line"># 因为这在传进来时候并没有绑定这些参数方法啊，是后面代码 手动绑定的啦 哈哈哈哈或或或</span><br><span class="line"></span><br><span class="line">#  上面的理解有点偏差，但愿看到的人能够自己找出，下面是我重新理解的 </span><br><span class="line"># 定义一个函数，用来待会儿在 类 内部或绑定，或调用</span><br><span class="line">def print_s(s):</span><br><span class="line">    print(s)</span><br><span class="line">    return s</span><br><span class="line"></span><br><span class="line">#必须继承自 type 才可以被当做元类，被反射</span><br><span class="line">class ObjectCreatorMetaClass(type):</span><br><span class="line">    def __new__(current_class_name,class_tobe_created_name,base_classess_name_tuple,attrs_hold_dict):</span><br><span class="line">        # 打印一波传进来的参数会发现基本跟命名一致</span><br><span class="line">        print_s(&apos;current_class_name: &#123;&#125;&apos;.format(current_class_name))</span><br><span class="line">        print_s(&apos;class_tobe_created_name: &#123;&#125;&apos;.format(class_tobe_created_name))</span><br><span class="line">        print_s(&apos;base_classess_name_tuple: &#123;&#125;&apos;.format(base_classess_name_tuple))</span><br><span class="line">        print_s(&apos;attrs_hold_dict: &#123;&#125;&apos;.format(attrs_hold_dict))</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        #为要被创建的类 ObjectCreator 添加方法，属性都可以</span><br><span class="line">        attrs_hold_dict[&apos;flag&apos;] = True</span><br><span class="line">        attrs_hold_dict[&apos;get_metaclass&apos;] = print_s(current_class_name)</span><br><span class="line">        attrs_hold_dict[&apos;get_tobe_created_class&apos;] = print_s(class_tobe_created_name)</span><br><span class="line">        attrs_hold_dict[&apos;get_bases_classess_tuple&apos;] = print_s(base_classess_name_tuple)</span><br><span class="line">        attrs_hold_dict[&apos;get_attrs_hold_dict&apos;] = print_s(attrs_hold_dict)</span><br><span class="line">        return type.__new__(current_class_name,class_tobe_created_name,base_classess_name_tuple,attrs_hold_dict)</span><br><span class="line"></span><br><span class="line">class ObjectCreator(object,metaclass = ObjectCreatorMetaClass):</span><br><span class="line">        pass</span><br><span class="line">    </span><br><span class="line"># 思考为什么 第一次打印时候 attrs_hold_dict 会比后一次 打印 少掉一部分属性，方法 (如 &apos;current_class_name_print&apos;: None, &apos;flag&apos;: True)</span><br><span class="line"># 因为这在传进来时候并没有绑定这些参数方法啊，是后面代码 手动绑定的啦 哈哈哈哈或或或</span><br><span class="line"></span><br><span class="line">object_from_objectcreator = ObjectCreator()</span><br><span class="line">print(object_from_objectcreator.flag)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 实际上这里返回了</span><br><span class="line">object_from_objectcreator.get_metaclass</span><br><span class="line">object_from_objectcreator.get_tobe_created_class</span><br><span class="line">object_from_objectcreator.get_bases_classess_tuple</span><br><span class="line">object_from_objectcreator.get_attrs_hold_dict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># out:</span><br><span class="line"># current_class_name: &lt;class &apos;__main__.ObjectCreatorMetaClass&apos;&gt;</span><br><span class="line"># class_tobe_created_name: ObjectCreator</span><br><span class="line"># base_classess_name_tuple: (&lt;class &apos;object&apos;&gt;,)</span><br><span class="line"># attrs_hold_dict: &#123;&apos;__qualname__&apos;: &apos;ObjectCreator&apos;, &apos;__module__&apos;: &apos;__main__&apos;&#125;</span><br><span class="line"># &lt;class &apos;__main__.ObjectCreatorMetaClass&apos;&gt;</span><br><span class="line"># ObjectCreator</span><br><span class="line"># (&lt;class &apos;object&apos;&gt;,)</span><br><span class="line"># &#123;&apos;get_bases_classess_tuple&apos;: (&lt;class &apos;object&apos;&gt;,), &apos;__qualname__&apos;: &apos;ObjectCreator&apos;, &apos;get_metaclass&apos;: &lt;class &apos;__main__.ObjectCreatorMetaClass&apos;&gt;, &apos;__module__&apos;: &apos;__main__&apos;, &apos;get_tobe_created_class&apos;: &apos;ObjectCreator&apos;, &apos;flag&apos;: True&#125;</span><br><span class="line"># True</span><br><span class="line"># &#123;&apos;__module__&apos;: &apos;__main__&apos;,</span><br><span class="line">#  &apos;__qualname__&apos;: &apos;ObjectCreator&apos;,</span><br><span class="line">#  &apos;flag&apos;: True,</span><br><span class="line">#  &apos;get_attrs_hold_dict&apos;: &#123;...&#125;,</span><br><span class="line">#  &apos;get_bases_classess_tuple&apos;: (object,),</span><br><span class="line">#  &apos;get_metaclass&apos;: __main__.ObjectCreatorMetaClass,</span><br><span class="line">#  &apos;get_tobe_created_class&apos;: &apos;ObjectCreator&apos;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 到目前为止，我认为元类来创建 类 ，然后 类再创建对象的过程</span><br><span class="line"># 应该是 定义一个元类继承 type 这个 class  然后 覆写它的 __new__ 方法， TBD。。。</span><br><span class="line"></span><br><span class="line"># 曾经沧海，写完下面这个自动转换要被创建的类的属性为大写 ， 元类也就会了</span><br><span class="line"></span><br><span class="line">class Upper_attr(type):</span><br><span class="line">    def __new__(cls,name,bases,attr_dict):</span><br><span class="line">        attr_dict = dict( (name.upper(),value)  for name,value in attr_dict.items() if not name.startswith(&apos;__&apos;))</span><br><span class="line">        print(attr_dict)</span><br><span class="line">        return super(Upper_attr,cls).__new__(cls,name,bases,attr_dict)</span><br><span class="line">    </span><br><span class="line">class Foo(object,metaclass = Upper_attr):</span><br><span class="line">    bar = &apos;bip&apos;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">hasattr(Foo,&apos;BAR&apos;)</span><br><span class="line">&#123;&apos;BAR&apos;: &apos;bip&apos;&#125;</span><br><span class="line">True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 思考为什么 构造函数 __init__ 不能用 lambda 来写函数体 , 因为，lambda 冒号后边必须接的是一个 表达式而非语句</span><br><span class="line">def __init__(self, x):</span><br><span class="line">    self.x = x</span><br><span class="line"></span><br><span class="line">def printX(self):</span><br><span class="line">    print(self.x)</span><br><span class="line"></span><br><span class="line">Test = type(&apos;Test&apos;, (object,), &#123;&apos;__init__&apos;: __init__, &apos;printX&apos;: printX&#125;)</span><br><span class="line">class TestMetaclass(type):</span><br><span class="line">    def __new__(cls,name,bases,attr_dict):</span><br><span class="line">        attr_dict[&apos;__init__&apos;] = __init__</span><br><span class="line">        attr_dict[&apos;printX&apos;]= lambda self:print(self.x)</span><br><span class="line">        return super(TestMetaclass,cls).__new__(cls,name,bases,attr_dict)</span><br><span class="line">    </span><br><span class="line">class Test(object,metaclass = TestMetaclass):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">Test(&apos;123&apos;).printX()</span><br></pre></td></tr></table></figure>
<p><img src="https://images2018.cnblogs.com/blog/636379/201806/636379-20180606172351153-443757276.png" alt=""></p>
<h2 id="IO-，-文件-，-内存，-字符，字节-类似于-java-的-IO"><a href="#IO-，-文件-，-内存，-字符，字节-类似于-java-的-IO" class="headerlink" title="IO ， 文件 ， 内存， 字符，字节 类似于 java 的 IO"></a>IO ， 文件 ， 内存， 字符，字节 类似于 java 的 IO</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">file_list = os.listdir(&apos;.&apos;)</span><br><span class="line">for file in file_list:</span><br><span class="line">    file_name,file_extension = os.path.splitext(file)</span><br><span class="line">    if file_extension == &apos;.csv&apos;:</span><br><span class="line">        try:</span><br><span class="line">            f = open(file,&apos;r&apos;)</span><br><span class="line">            print(f.read())</span><br><span class="line">            print(&apos;file name: &apos;,file_name+file_extension)</span><br><span class="line">        except IOError as ioe:</span><br><span class="line">            print(e)</span><br><span class="line">        finally:</span><br><span class="line">            if f:</span><br><span class="line">                f.close()</span><br><span class="line">            </span><br><span class="line">        print(file_name,&apos;&lt;-----&gt;&apos;,file_extension)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gender,age,drug,complication</span><br><span class="line">0,1,3,5</span><br><span class="line">1,3,2,3</span><br><span class="line">0,5,1,2</span><br><span class="line">0,2,3,3</span><br><span class="line">1,7,3,2</span><br><span class="line">0,6,3,4</span><br></pre></td></tr></table></figure>
<p>file name:  mock_data.csv<br>mock_data <-----> .csv</-----></p>
<h2 id="加上-编码，解码方式"><a href="#加上-编码，解码方式" class="headerlink" title="加上 编码，解码方式"></a>加上 编码，解码方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">file_list = os.listdir(&apos;.&apos;)</span><br><span class="line">kw = &#123;&apos;encoding&apos;:&apos;utf8&apos;&#125;</span><br><span class="line">for file in file_list:</span><br><span class="line">    file_name,file_extension = os.path.splitext(file)</span><br><span class="line">    if file_extension == &apos;.csv&apos;:</span><br><span class="line">        try:</span><br><span class="line">            f = open(file,&apos;r&apos;,**kw)</span><br><span class="line">            print(f.read())</span><br><span class="line">            print(&apos;file name: &apos;,file_name+file_extension)</span><br><span class="line">        except IOError as ioe:</span><br><span class="line">            print(e)</span><br><span class="line">        finally:</span><br><span class="line">            if f:</span><br><span class="line">                f.close()</span><br><span class="line">            </span><br><span class="line">        print(file_name,&apos;&lt;-----&gt;&apos;,file_extension)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file_list = os.listdir(&apos;.&apos;)</span><br><span class="line">kw = &#123;&apos;encoding&apos;:&apos;utf8&apos;&#125;</span><br><span class="line">for file in file_list:</span><br><span class="line">    file_name,file_extension = os.path.splitext(file)</span><br><span class="line">    if file_extension == &apos;.csv&apos;:</span><br><span class="line">        try:</span><br><span class="line">            f = open(file,&apos;r&apos;,**kw)</span><br><span class="line">#             print(f.read())</span><br><span class="line">            for line in f.readlines():</span><br><span class="line">                print(line)</span><br><span class="line">            print(&apos;file name: &apos;,file_name+file_extension)</span><br><span class="line">        except IOError as ioe:</span><br><span class="line">            print(e)</span><br><span class="line">        finally:</span><br><span class="line">            if f:</span><br><span class="line">                f.close()</span><br><span class="line">            </span><br><span class="line">        print(file_name,&apos;&lt;-----&gt;&apos;,file_extension)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 使用 with 表达式，相当于 java 中的 try(Autoclosable Resources)   语法糖，自动关闭资源</span><br><span class="line"></span><br><span class="line">file_list = os.listdir(&apos;.&apos;)</span><br><span class="line">kw = &#123;&apos;encoding&apos;:&apos;utf8&apos;,&apos;errors&apos;:&apos;ignore&apos;&#125;</span><br><span class="line">for file in file_list:</span><br><span class="line">    file_name,file_extension = os.path.splitext(file)</span><br><span class="line">    if file_extension == &apos;.csv&apos;:</span><br><span class="line">        with open(file,&apos;r&apos;,**kw) as f:</span><br><span class="line">            for line in f.readlines():</span><br><span class="line">                print(line.strip()) # 去掉末尾的换行符</span><br><span class="line">            </span><br><span class="line">        print(file_name,&apos;&lt;-----&gt;&apos;,file_extension)</span><br><span class="line"></span><br><span class="line"># 读写二进制文件 是不能加 errors 参数的</span><br><span class="line">&gt;&gt;&gt; with open(&apos;9.jpg&apos;,&apos;rb&apos;,errors=&apos;ignore&apos;) as fr:</span><br><span class="line">...     with open(&apos;99.jpg&apos;,&apos;wb&apos;) as fw:</span><br><span class="line">...          for line in fr.readlines():</span><br><span class="line">...              fw.write(line)</span><br><span class="line">...</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">ValueError: binary mode doesn&apos;t take an errors argument</span><br><span class="line"></span><br><span class="line"># StringIO , python 3 中 是 from io import StringIO ,内存读写</span><br><span class="line"># 方式一：</span><br><span class="line">f = StringIO()</span><br><span class="line">f.write(&apos;Hello\nWorld!\n&apos;)</span><br><span class="line">print(f.getvalue())</span><br><span class="line"></span><br><span class="line"># 方式二：</span><br><span class="line">from io import StringIO</span><br><span class="line">f = StringIO(&apos;Hello\nWorld!\n&apos;)</span><br><span class="line"># print(f.getvalue())</span><br><span class="line">while True:</span><br><span class="line">    s = f.readline()</span><br><span class="line">    if s == &apos;&apos;:</span><br><span class="line">        break</span><br><span class="line">    print(s.strip())</span><br><span class="line"></span><br><span class="line">#  StringIO操作的只能是str，如果要操作二进制数据，就需要使用BytesIO。</span><br><span class="line"></span><br><span class="line">#  BytesIO实现了在内存中读写bytes，我们创建一个BytesIO，然后写入一些bytes：</span><br><span class="line"></span><br><span class="line">from io import BytesIO</span><br><span class="line">f = BytesIO()</span><br><span class="line">f.write(&apos;中文&apos;.encode(&apos;utf-8&apos;))</span><br><span class="line">print(f.getvalue())</span><br><span class="line">结果：</span><br><span class="line"></span><br><span class="line">b&apos;\xe4\xb8\xad\xe6\x96\x87&apos;</span><br><span class="line"></span><br><span class="line"># 解码：</span><br><span class="line">from io import BytesIO</span><br><span class="line">f = BytesIO(b&apos;\xe4\xb8\xad\xe6\x96\x87&apos;)</span><br><span class="line">bcontent = f.read()</span><br><span class="line">print(bcontent.decode(&apos;utf-8&apos;))</span><br><span class="line">与上一种utf-8 编码相反，用 utf-8 解码， 结果如下：</span><br><span class="line">&apos;中文&apos;</span><br></pre></td></tr></table></figure>
<h2 id="文件夹目录以及文件相关操作"><a href="#文件夹目录以及文件相关操作" class="headerlink" title="文件夹目录以及文件相关操作"></a>文件夹目录以及文件相关操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># 在当前路径下查找包含指定字符串的 所有文件名，并返回。如果是子目录，需要用到递归，没有写，有空写写</span><br><span class="line">import os</span><br><span class="line">def search_file(filename):</span><br><span class="line">    return [file for file in os.listdir(&apos;.&apos;) if os.path.isfile(file) and filename in file]</span><br><span class="line"></span><br><span class="line">for name in search_file(&apos;并&apos;):</span><br><span class="line">    print(name)</span><br><span class="line">并发症逻辑回归准确率.ipynb</span><br><span class="line">并发症概率模型.ipynb</span><br><span class="line"></span><br><span class="line"># api 集中:</span><br><span class="line">os.path.isdir(x)</span><br><span class="line">os.listdir(&apos;.&apos;)</span><br><span class="line">os.path.isfile(x)</span><br><span class="line">os.path.splitext(x)[1]==&apos;.py&apos;</span><br><span class="line">os.name # 操作系统类型   nt </span><br><span class="line">os.uname() # 注意uname()函数在Windows上不提供，也就是说，os模块的某些函数是跟操作系统相关的。</span><br><span class="line">os.environ # 在操作系统中定义的环境变量，全部保存在os.environ这个变量中，可以直接查看：</span><br><span class="line">os.environ.get(&apos;PATH&apos;)</span><br><span class="line"># 查看当前目录的绝对路径:</span><br><span class="line">&gt;&gt;&gt; os.path.abspath(&apos;.&apos;)</span><br><span class="line">&apos;/Users/michael&apos;</span><br><span class="line"># 在某个目录下创建一个新目录，首先把新目录的完整路径表示出来:</span><br><span class="line">&gt;&gt;&gt; os.path.join(&apos;/Users/michael&apos;, &apos;testdir&apos;)</span><br><span class="line">&apos;/Users/michael/testdir&apos;</span><br><span class="line"># 然后创建一个目录:</span><br><span class="line">&gt;&gt;&gt; os.mkdir(&apos;/Users/michael/testdir&apos;)</span><br><span class="line"># 删掉一个目录:</span><br><span class="line">&gt;&gt;&gt; os.rmdir(&apos;/Users/michael/testdir&apos;)</span><br><span class="line"># 对文件重命名:</span><br><span class="line">&gt;&gt;&gt; os.rename(&apos;test.txt&apos;, &apos;test.py&apos;)</span><br><span class="line"># 删掉文件:</span><br><span class="line">&gt;&gt;&gt; os.remove(&apos;test.py&apos;)</span><br><span class="line">&gt;&gt;&gt; os.path.split(&apos;/Users/michael/testdir/file.txt&apos;)</span><br><span class="line">(&apos;/Users/michael/testdir&apos;, &apos;file.txt&apos;)</span><br><span class="line"></span><br><span class="line">但是复制文件的函数居然在os模块中不存在！原因是复制文件并非由操作系统提供的系统调用。理论上讲，我们通过上一节的读写文件可以完成文件复制，只不过要多写很多代码。</span><br><span class="line"></span><br><span class="line">幸运的是shutil模块提供了copyfile()的函数，你还可以在shutil模块中找到很多实用函数，它们可以看做是os模块的补充。</span><br></pre></td></tr></table></figure>
<h2 id="序列化-（内存流向磁盘的过程）与-反序列化-磁盘流向内存的过程"><a href="#序列化-（内存流向磁盘的过程）与-反序列化-磁盘流向内存的过程" class="headerlink" title="序列化 （内存流向磁盘的过程）与 反序列化(磁盘流向内存的过程)"></a>序列化 （内存流向磁盘的过程）与 反序列化(磁盘流向内存的过程)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 序列化</span><br><span class="line">import pickle</span><br><span class="line">person = &#123;&apos;name&apos;:&apos;Bob&apos;,&apos;age&apos;:18,&apos;gender&apos;:&apos;Male&apos;&#125;</span><br><span class="line">d = pickle.dumps(person)</span><br><span class="line">with open(&apos;dump.txt&apos;,&apos;wb&apos;) as fw:</span><br><span class="line">    pickle.dump(d,fw)</span><br><span class="line"># 反序列化</span><br><span class="line">with open(&apos;dump.txt&apos;,&apos;rb&apos;) as fr:</span><br><span class="line">    d=pickle.load(fr)</span><br><span class="line">    print(d)</span><br></pre></td></tr></table></figure>
<h3 id="序列化为json-串存储到磁盘，-反序列化从磁盘读取-json-串到内存转化为python对象"><a href="#序列化为json-串存储到磁盘，-反序列化从磁盘读取-json-串到内存转化为python对象" class="headerlink" title="序列化为json 串存储到磁盘， 反序列化从磁盘读取 json 串到内存转化为python对象"></a>序列化为json 串存储到磁盘， 反序列化从磁盘读取 json 串到内存转化为python对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">person = dict(name = &apos;Tom&apos;,age = 18,gender=&apos;Male&apos;)</span><br><span class="line">#  dumps 将dict 转成 json 字符串</span><br><span class="line">j = json.dumps(person)</span><br><span class="line">with open(&apos;json.txt&apos;,&apos;w&apos;) as fw:</span><br><span class="line">    # dump 序列化 json 串为文件或类文件对象 (file-like Object)</span><br><span class="line">    json.dump(j,fw)</span><br><span class="line"></span><br><span class="line"># loads 方法将 json串反序列化</span><br><span class="line">json.loads(j)</span><br><span class="line">with open(&apos;json.txt&apos;,&apos;r&apos;) as fr:</span><br><span class="line">    # load 方法将从文件中读取字符串并反序列化为json 串，同时你会发现是反序的</span><br><span class="line">    k = json.load(fr)</span><br><span class="line">    print(k)</span><br></pre></td></tr></table></figure>
<h3 id="再进一阶，序列化与反序列化-json-串-between-对象"><a href="#再进一阶，序列化与反序列化-json-串-between-对象" class="headerlink" title="再进一阶，序列化与反序列化 json 串 between 对象"></a>再进一阶，序列化与反序列化 json 串 between 对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">class Student(object):</span><br><span class="line">    def __init__(self,name,age,sex):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line">        </span><br><span class="line">s = Student(&apos;Tom&apos;,18,&apos;Male&apos;)</span><br><span class="line">def student2str(std):</span><br><span class="line">    return dict(name=std.name,age=std.age,sex=std.sex)</span><br><span class="line">json.dumps(student2str(s))</span><br><span class="line">json.dumps(s,default=lambda obj:obj.__dict__)</span><br><span class="line"></span><br><span class="line">&apos;&#123;&quot;sex&quot;: &quot;Male&quot;, &quot;age&quot;: 18, &quot;name&quot;: &quot;Tom&quot;&#125;&apos;</span><br><span class="line"></span><br><span class="line">#将上面的 json 字符串转换为 Student 对象</span><br><span class="line">json_str = &apos;&#123;&quot;sex&quot;: &quot;Male&quot;, &quot;age&quot;: 18, &quot;name&quot;: &quot;Tom&quot;&#125;&apos;</span><br><span class="line">def dict2student(d):</span><br><span class="line">    return Student(d[&apos;name&apos;],d[&apos;age&apos;],d[&apos;sex&apos;])</span><br><span class="line">s = json.loads(json_str,object_hook=dict2student)</span><br><span class="line">s.name</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">&apos;Tom&apos;</span><br></pre></td></tr></table></figure>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><h4 id="Python语言特定的序列化模块是pickle，但如果要把序列化搞得更通用、更符合Web标准，就可以使用json模块。"><a href="#Python语言特定的序列化模块是pickle，但如果要把序列化搞得更通用、更符合Web标准，就可以使用json模块。" class="headerlink" title="Python语言特定的序列化模块是pickle，但如果要把序列化搞得更通用、更符合Web标准，就可以使用json模块。"></a>Python语言特定的序列化模块是pickle，但如果要把序列化搞得更通用、更符合Web标准，就可以使用json模块。</h4><h4 id="json模块的dumps-和loads-函数是定义得非常好的接口的典范。当我们使用时，只需要传入一个必须的参数。但是，当默认的序列化或反序列机制不满足我们的要求时，我们-又可以传入更多的参数来定制序列化或反序列化的规则，既做到了接口简单易用，又做到了充分的扩展性和灵活性。"><a href="#json模块的dumps-和loads-函数是定义得非常好的接口的典范。当我们使用时，只需要传入一个必须的参数。但是，当默认的序列化或反序列机制不满足我们的要求时，我们-又可以传入更多的参数来定制序列化或反序列化的规则，既做到了接口简单易用，又做到了充分的扩展性和灵活性。" class="headerlink" title="json模块的dumps()和loads()函数是定义得非常好的接口的典范。当我们使用时，只需要传入一个必须的参数。但是，当默认的序列化或反序列机制不满足我们的要求时，我们#### 又可以传入更多的参数来定制序列化或反序列化的规则，既做到了接口简单易用，又做到了充分的扩展性和灵活性。"></a>json模块的dumps()和loads()函数是定义得非常好的接口的典范。当我们使用时，只需要传入一个必须的参数。但是，当默认的序列化或反序列机制不满足我们的要求时，我们#### 又可以传入更多的参数来定制序列化或反序列化的规则，既做到了接口简单易用，又做到了充分的扩展性和灵活性。</h4><p>##内建模块以及常用第三方模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request as urllib2</span><br><span class="line">import random</span><br><span class="line">ua_list=[&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv2.0.1) Gecko/20100101 Firefox/4.0.1&quot;,</span><br><span class="line">        &quot;Mozilla/5.0 (Windows NT 6.1; rv2.0.1) Gecko/20100101 Firefox/4.0.1&quot;,</span><br><span class="line">        &quot;Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; en) Presto/2.8.131 Version/11.11&quot;,</span><br><span class="line">        &quot;Opera/9.80 (Windows NT 6.1; U; en) Presto/2.8.131 Version/11.11&quot;,</span><br><span class="line">        &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11&quot;]</span><br><span class="line">u_agent = random.choice(ua_list)</span><br><span class="line"># print(u_agent)</span><br><span class="line">url = &apos;http://www.baidu.com&apos;</span><br><span class="line">request = urllib2.Request(url=url)</span><br><span class="line">request.add_header(&quot;User_agent&quot;,u_agent)</span><br><span class="line">response = urllib2.urlopen(request)</span><br><span class="line">print(response.read())</span><br></pre></td></tr></table></figure></p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">标准数据类型</span><br><span class="line">Python3 中有六个标准的数据类型：</span><br><span class="line"></span><br><span class="line">Number（数字）</span><br><span class="line">String（字符串）</span><br><span class="line">List（列表）</span><br><span class="line">Tuple（元组）</span><br><span class="line">Sets（集合）</span><br><span class="line">Dictionary（字典）</span><br><span class="line">Python3 的六个标准数据类型中：</span><br><span class="line"></span><br><span class="line">不可变数据（四个）：Number（数字）、String（字符串）、Tuple（元组）、Sets（集合）；</span><br><span class="line">可变数据（两个）：List（列表）、Dictionary（字典）。</span><br><span class="line">Set（集合）</span><br><span class="line">集合（set）是一个无序不重复元素的序列。</span><br><span class="line"></span><br><span class="line">基本功能是进行成员关系测试和删除重复元素。</span><br><span class="line"></span><br><span class="line"># 字符串的一些内建函数需要掌握 ，首字母大写 capitalize()，lower(),upper() 等等</span><br><span class="line">a = &apos;frank&apos;</span><br><span class="line">a.capitalize()</span><br><span class="line"></span><br><span class="line">可以使用大括号 &#123; &#125; 或者 set() 函数创建集合，注意：创建一个空集合必须用 set() 而不是 &#123; &#125;，因为 &#123; &#125; 是用来创建一个空字典。</span><br><span class="line"></span><br><span class="line"># set可以进行集合运算</span><br><span class="line">a = set(&apos;abracadabra&apos;)</span><br><span class="line">b = set(&apos;alacazam&apos;)</span><br><span class="line"> </span><br><span class="line">print(a)</span><br><span class="line"> </span><br><span class="line">print(a - b)     # a和b的差集</span><br><span class="line"> </span><br><span class="line">print(a | b)     # a和b的并集</span><br><span class="line"> </span><br><span class="line">print(a &amp; b)     # a和b的交集</span><br><span class="line"> </span><br><span class="line">print(a ^ b)     # a和b中不同时存在的元素</span><br><span class="line"></span><br><span class="line">dict_1 = dict(name=&apos;frank&apos;,age=18)  # 这写法我喜欢</span><br><span class="line">dict_1 = &#123;&apos;name&apos;:&apos;frank&apos;,&apos;age&apos;:18&#125;  # 这写法也能接受</span><br><span class="line">dict_1 = dict([(&apos;name&apos;,&apos;frank&apos;),(&apos;age&apos;,18)])   # 这种写法我觉得纯粹是有病。。。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">删除引用，估算引用，查询引用</span><br><span class="line">del b</span><br><span class="line">eval(&apos;b&apos;) </span><br><span class="line">hex(id(b))   # 16 进制 hash值</span><br><span class="line"># str()出来的值是给人看的。。。repr()出来的值是给python看的，可以通过eval()重新变回一个Python对象</span><br><span class="line">a = &apos;a&apos;</span><br><span class="line">eval(&apos;a&apos;)</span><br><span class="line">hex(id(a))</span><br><span class="line">eval(repr(a))</span><br><span class="line"></span><br><span class="line"># print 默认输出是换行的，如果要实现不换行需要在变量末尾加上 end=&quot;&quot;：</span><br><span class="line"># 不换行输出</span><br><span class="line">print( x, end=&quot; &quot; )</span><br><span class="line">print( y, end=&quot; &quot; )</span><br><span class="line">dict  items() , keys(), values()</span><br><span class="line">list  pop , append</span><br><span class="line">import keyword</span><br><span class="line">keyword.kwlist</span><br><span class="line"></span><br><span class="line">#  dict 是个好命令</span><br><span class="line">dir(dict)</span><br><span class="line">&apos;__setitem__&apos;,</span><br><span class="line"> &apos;__sizeof__&apos;,</span><br><span class="line"> &apos;__str__&apos;,</span><br><span class="line"> &apos;__subclasshook__&apos;,</span><br><span class="line"> &apos;clear&apos;,</span><br><span class="line"> &apos;copy&apos;,</span><br><span class="line"> &apos;fromkeys&apos;,</span><br></pre></td></tr></table></figure>
<p><img src="https://images2018.cnblogs.com/blog/636379/201806/636379-20180614172745469-1697836617.png" alt=""><br><img src="https://images2018.cnblogs.com/blog/636379/201806/636379-20180614173008955-842967537.png" alt=""></p>
<h3 id="python-日志"><a href="#python-日志" class="headerlink" title="python 日志"></a>python 日志</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 这段代码保存为 config.py</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">__author__ = &apos;Frank Li&apos;</span><br><span class="line">import logging</span><br><span class="line">class Config():</span><br><span class="line">    # 创建一个logger</span><br><span class="line">    logger = logging.getLogger(&apos;statisticNew&apos;)</span><br><span class="line">    logger.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line">    # 创建一个handler，用于写入日志文件</span><br><span class="line">    fh = logging.FileHandler(&apos;test.log&apos;)</span><br><span class="line">    fh.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line">    # 再创建一个handler，用于输出到控制台</span><br><span class="line">    ch = logging.StreamHandler()</span><br><span class="line">    ch.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line">    # 定义handler的输出格式</span><br><span class="line">    formatter = logging.Formatter(&apos;%(asctime)s - %(name)s - %(levelname)s - %(message)s&apos;)</span><br><span class="line">    fh.setFormatter(formatter)</span><br><span class="line">    ch.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line">    # 给logger添加handler</span><br><span class="line">    logger.addHandler(fh)</span><br><span class="line">    logger.addHandler(ch)</span><br><span class="line">    def getLog(self):</span><br><span class="line">        return self.logger</span><br></pre></td></tr></table></figure>
<h1 id="引用上段代码保存的额-config-py-文件里的module"><a href="#引用上段代码保存的额-config-py-文件里的module" class="headerlink" title="引用上段代码保存的额 config.py 文件里的module"></a>引用上段代码保存的额 config.py 文件里的module</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">__author__ = &apos;Frank Li&apos;</span><br><span class="line">from config import Config</span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    conf = Config()</span><br><span class="line">    logger = conf.getLog()</span><br><span class="line">    logger.info(&apos;foorbar&apos;)</span><br><span class="line">    boy = &quot;Frank Li&quot;</span><br><span class="line">    is_handsome = True</span><br><span class="line">    logger.info(&quot;boy=%s,is_handsome=%s&quot;,boy,is_handsome)</span><br><span class="line">   </span><br><span class="line"># 异常处理，以后尽量不要用山寨的 print 了</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">   ....  </span><br><span class="line">except Exception as e:</span><br><span class="line">    logger.exception(&apos;ERROR readFile:%s,%s&apos; % (path,str(e)))</span><br></pre></td></tr></table></figure>
<h3 id="编码规范-变量定义"><a href="#编码规范-变量定义" class="headerlink" title="编码规范 , 变量定义"></a>编码规范 , 变量定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#  Python变量命名用法（一般变量、常量、私有变量、内置变量）</span><br><span class="line">#coding:utf8</span><br><span class="line">__author__ = &quot;libingxian&quot;</span><br><span class="line"></span><br><span class="line">class TestDemo(object):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Python变量命名用法（以字符或者下划线开头，可以包括字母、数字、下划线，区别大小写）</span><br><span class="line">    一般变量</span><br><span class="line">    常量</span><br><span class="line">    私有变量</span><br><span class="line">    内置变量</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    FINAL_VAR = &quot;V1.0&quot; # 常量，不可修改的变量，以大写字母或加下划线命名，这个只是约定，即使更改了也不会报错</span><br><span class="line"></span><br><span class="line">    class_name = &quot;TestDemo&quot; # 常见变量命名，</span><br><span class="line"></span><br><span class="line">    __maker__ = &apos;libingxian&apos; # 内置变量，两个前置下划线和两个后置下划线，内置对象所具有，声明时不可与内置变量名的重复</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.__private_var = &quot;private&quot; # 私有变量，以两个前置下划线开头，只能在本类中使用，类外强制访问会报错</span><br><span class="line">        self.public_var = &quot;public&quot; # 一般变量</span><br><span class="line"></span><br><span class="line">    def __private_method(self):# 私有方法，以两个下划线开头、字母小写，只能在本类中使用，类外强制访问会报错</span><br><span class="line">        print &quot;i am private&quot;</span><br><span class="line"></span><br><span class="line">    def public_method(self):</span><br><span class="line">        print &quot;i am public&quot;</span><br><span class="line"></span><br><span class="line">test_demo = TestDemo()</span><br><span class="line">print test_demo.FINAL_VAR # 访问常量</span><br><span class="line">print test_demo.public_var # 访问一般变量</span><br><span class="line">print test_demo.__private_var # 访问私有变量，运行会报错</span><br><span class="line">test_demo.__private_method() # 访问私有方法，运行会报错</span><br></pre></td></tr></table></figure>
<h3 id="字典操作-dict-1-update-dict-2-合并-dict"><a href="#字典操作-dict-1-update-dict-2-合并-dict" class="headerlink" title="字典操作 dict_1.update(dict_2)  合并 dict"></a>字典操作 dict_1.update(dict_2)  合并 dict</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dict_1 = &#123;&apos;name&apos;:&apos;Frank&apos;,&apos;age&apos;:18&#125;</span><br><span class="line">gender_dict = &#123;&apos;gender&apos;:&apos;Male&apos;&#125;</span><br><span class="line">dict_1.update(gender_dict)</span><br><span class="line">print(dict_1)</span><br></pre></td></tr></table></figure>
<h3 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mcase = &#123;&apos;a&apos;: 10, &apos;b&apos;: 34, &apos;A&apos;: 7, &apos;Z&apos;: 3&#125;</span><br><span class="line"></span><br><span class="line">mcase_frequency = &#123;</span><br><span class="line">    k.lower(): mcase.get(k.lower(), 0) + mcase.get(k.upper(), 0)</span><br><span class="line">    for k in mcase.keys()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># mcase_frequency == &#123;&apos;a&apos;: 17, &apos;z&apos;: 3, &apos;b&apos;: 34&#125;</span><br><span class="line"></span><br><span class="line"># key,value 交换</span><br><span class="line">&gt;&gt;&gt; &#123;value:key for key,value in dict_1.items()&#125;</span><br><span class="line">&#123;&apos;Frank&apos;: &apos;name&apos;, 18: &apos;age&apos;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="由-两个-list-合并-dict-原理是利用-zip-合并成-key1-value1-key2-value2-然后用-dict-key-value-方式"><a href="#由-两个-list-合并-dict-原理是利用-zip-合并成-key1-value1-key2-value2-然后用-dict-key-value-方式" class="headerlink" title="由 两个 list 合并 dict  原理是利用 zip 合并成 ((key1,value1),(key2,value2)) 然后用 dict[key] = value 方式"></a>由 两个 list 合并 dict  原理是利用 zip 合并成 ((key1,value1),(key2,value2)) 然后用 dict[key] = value 方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">list_1 = [&apos;name&apos;,&apos;age&apos;]</span><br><span class="line">list_2 = [&apos;Frank&apos;,18]</span><br><span class="line">person_dict = &#123;&#125;</span><br><span class="line">for key,value in zip(list_1,list_2):</span><br><span class="line">    person_dict[key] = value</span><br><span class="line">print(person_dict)</span><br><span class="line"></span><br><span class="line"># 反过来   zip(*zipped)   ==&gt; flattern</span><br><span class="line">dict_2 = dict(name=&apos;Frank&apos;,age=18)</span><br><span class="line">list_3,list_4 = zip(*[ [key,value] for key,value in dict_2.items()])</span><br><span class="line">list_3,list_4</span><br></pre></td></tr></table></figure>
<h1 id="list-去重"><a href="#list-去重" class="headerlink" title="list 去重"></a>list 去重</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 方法一 </span><br><span class="line">l1 = [&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;b&apos;,&apos;c&apos;,&apos;a&apos;,&apos;a&apos;]</span><br><span class="line">l2 = &#123;&#125;.fromkeys(l1).keys()</span><br><span class="line">print(l2)</span><br><span class="line"># 方法二</span><br><span class="line">l3 = list(set(l1))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 三元运算  还可以用 元组条件表达式的三元运算   is_fat =(&apos;not fat&apos;,&apos;fat&apos;) [is_state]</span><br><span class="line">&gt;&gt;&gt; is_state = True</span><br><span class="line">&gt;&gt;&gt; is_fat = &apos;fat&apos; if is_state else &apos;not fat&apos;</span><br><span class="line">&gt;&gt;&gt; is_fat</span><br><span class="line">&apos;fat&apos;</span><br><span class="line"></span><br><span class="line"># 优雅地查出重复数据</span><br><span class="line">&gt;&gt;&gt; str_list = [&apos;a&apos;,&apos;b&apos;,&apos;a&apos;,&apos;c&apos;,&apos;d&apos;,&apos;b&apos;,&apos;c&apos;]</span><br><span class="line">&gt;&gt;&gt; [s for s in str_list if str_list.count(s) &gt;1]</span><br><span class="line">[&apos;a&apos;, &apos;b&apos;, &apos;a&apos;, &apos;c&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">&gt;&gt;&gt; set([s for s in str_list if str_list.count(s) &gt;1])</span><br><span class="line">&#123;&apos;a&apos;, &apos;c&apos;, &apos;b&apos;&#125;</span><br><span class="line"></span><br><span class="line"># 求交集 差集</span><br><span class="line">&gt;&gt;&gt; str_list2 = [&apos;a&apos;,&apos;b&apos;]</span><br><span class="line">&gt;&gt;&gt; str_list = set([s for s in str_list if str_list.count(s) &gt;1])</span><br><span class="line">&gt;&gt;&gt; str_list.intersection(str_list2)</span><br><span class="line">&#123;&apos;a&apos;, &apos;b&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; str_list.difference(str_list2)</span><br><span class="line">&#123;&apos;c&apos;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="列表排序"><a href="#列表排序" class="headerlink" title="列表排序"></a>列表排序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">列表排序</span><br><span class="line"></span><br><span class="line">    a = [(1, 2), (4, 1), (9, 10), (13, -3)]</span><br><span class="line">    a.sort(key=lambda x: x[1])</span><br><span class="line"></span><br><span class="line">    print(a)</span><br><span class="line">    # Output: [(13, -3), (4, 1), (1, 2), (9, 10)]</span><br></pre></td></tr></table></figure>
<h3 id="列表并行排序"><a href="#列表并行排序" class="headerlink" title="列表并行排序"></a>列表并行排序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list_1 = [8,4,3,2,7,6,5]</span><br><span class="line">list_2 = [&apos;e&apos;,&apos;d&apos;,&apos;c&apos;,&apos;y&apos;,&apos;i&apos;,&apos;o&apos;,&apos;p&apos;]</span><br><span class="line">data = zip(list_1,list_2)</span><br><span class="line">data = sorted(data)</span><br><span class="line">list1, list2 = map(lambda t: list(t), zip(*data))</span><br><span class="line">print(list1)</span><br><span class="line">print(list2)</span><br></pre></td></tr></table></figure>
<h3 id="模拟-with-open"><a href="#模拟-with-open" class="headerlink" title="模拟 with open"></a>模拟 with open</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; class File(object):</span><br><span class="line">...    def __init__(self,file_name,method):</span><br><span class="line">...        self.file_obj = open(file_name,method)</span><br><span class="line">...    def __enter__(self):</span><br><span class="line">...        return self.file_obj</span><br><span class="line">...    def __exit__(self,type,value,traceback):</span><br><span class="line">...        self.file_obj.close()</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; with File(&apos;C:/Users/FrankLi/Desktop/Demo.java&apos;,&apos;r&apos;) as f:</span><br><span class="line">...     for line in f.readlines():</span><br><span class="line">...         print(line)</span><br><span class="line">...</span><br><span class="line">class Demo&#123;</span><br><span class="line"></span><br><span class="line">        public static void main(String[] args)&#123;</span><br><span class="line"></span><br><span class="line">                System.out.println(&quot;Hello world!&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">我们的__exit__函数接受三个参数。这些参数对于每个上下文管理器类中的__exit__方法都是必须的。我们来谈谈在底层都发生了什么。</span><br><span class="line"></span><br><span class="line">with语句先暂存了File类的__exit__方法</span><br><span class="line">然后它调用File类的__enter__方法</span><br><span class="line">__enter__方法打开文件并返回给with语句</span><br><span class="line">打开的文件句柄被传递给opened_file参数</span><br><span class="line">我们使用.write()来写文件</span><br><span class="line">with语句调用之前暂存的__exit__方法</span><br><span class="line">__exit__方法关闭了文件</span><br></pre></td></tr></table></figure>
<h3 id="类似于-scala-的-flattern-列表展平"><a href="#类似于-scala-的-flattern-列表展平" class="headerlink" title="类似于 scala 的 flattern 列表展平"></a>类似于 scala 的 flattern 列表展平</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import itertools</span><br><span class="line">&gt;&gt;&gt; a_list = [[1,2],[3,4],[5,6]]</span><br><span class="line">&gt;&gt;&gt; print(itertools.chain(*a_list))</span><br><span class="line">&lt;itertools.chain object at 0x039E6090&gt;</span><br><span class="line">&gt;&gt;&gt; print(list(itertools.chain(*a_list)))</span><br><span class="line">[1, 2, 3, 4, 5, 6]</span><br><span class="line">&gt;&gt;&gt; print(list(itertools.chain.from_iterable(a_list)))</span><br><span class="line">[1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; l = [[1,2,3],[4,5,6], [7], [8,9]]</span><br><span class="line">&gt;&gt;&gt; [item for sublist in l for item in sublist] # 推导式中两层 for 循环也可以实现</span><br><span class="line">[1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>
<h3 id="for-else-结构"><a href="#for-else-结构" class="headerlink" title="for - else 结构"></a>for - else 结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for n in range(2, 100):</span><br><span class="line">    for x in range(2, n):</span><br><span class="line">        if n % x == 0:</span><br><span class="line">            print(n, &apos;equals&apos;, x, &apos;*&apos;, n / x)</span><br><span class="line">            break</span><br><span class="line">    else:</span><br><span class="line">        # loop fell through without finding a factor</span><br><span class="line">        print(n, &apos;is a prime number&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 替代 switch case 方案 字典映射</span><br><span class="line">&gt;&gt;&gt; def switch(x):</span><br><span class="line">...     return &#123;&apos;0&apos;:0,&apos;1&apos;:1,&apos;2&apos;:2&#125;.get(x,&apos;nothing&apos;)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; switch(&apos;0&apos;)</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt; switch(&apos;3&apos;)</span><br><span class="line">&apos;nothing&apos;</span><br></pre></td></tr></table></figure>
<p>16.检查一个字符串是否是一个数字?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In[22]: x = &apos;569789&apos;</span><br><span class="line"></span><br><span class="line">In[23]: x.isdigit()</span><br><span class="line"></span><br><span class="line">Out[23]: True</span><br><span class="line"></span><br><span class="line">In[24]: y = &apos;gdf2667&apos;</span><br><span class="line"></span><br><span class="line">In[25]: y.isdigit()</span><br><span class="line"></span><br><span class="line">Out[25]: False</span><br></pre></td></tr></table></figure></p>
<p>17.查找列表中某个元素的下标?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In[26]: [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;].index(&apos;b&apos;)</span><br><span class="line"></span><br><span class="line">Out[26]: 1</span><br></pre></td></tr></table></figure></p>
<p>18.如何在列表中随机取一个元素？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line"></span><br><span class="line">f= [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line"></span><br><span class="line">print(random.choice(f))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 字典排序</span><br><span class="line">&gt;&gt;&gt; dict_1 = &#123;&apos;a&apos;:3,&apos;b&apos;:1,&apos;c&apos;:2&#125;</span><br><span class="line">&gt;&gt;&gt; sorted(dict_1.items(),key=lambda x:x[1])</span><br><span class="line">[(&apos;b&apos;, 1), (&apos;c&apos;, 2), (&apos;a&apos;, 3)]</span><br></pre></td></tr></table></figure>
<h2 id="JAVA-vs-PYTHON-还没细看"><a href="#JAVA-vs-PYTHON-还没细看" class="headerlink" title="JAVA vs PYTHON (还没细看)"></a>JAVA vs PYTHON (还没细看)</h2><p><img src="http://images.cnblogs.com/cnblogs_com/Frank99/1215494/o_vs.jpg" alt="jvsp"></p>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>至此，关于 python 基础的总结基本完结，其中有涉及到高阶知识 ， 元类，位置参数关键字参数 可变参数(*args   type: tuple,**kwargs   type: dict)，<br>生成器，装饰器，函数式编程风格的 map reduce  filter sorted上下文管理器，  要补充的有 ： 进程线程协程，异步io<br>接下来的时间应该是 学习 python 的重要常用模块(Pandas,Numpy,Scipy,PIL pillow , opencv,sk-learn,xgboost,爬虫库 scrappy等)以及框架(Django)</p>
<p>最后感慨一下，如果一开始碰到了python 也许根本就不会去学java了，感觉python的设计思想比较符合我的思想各种黑魔法的魅力吸引着我！！！<br>（虽然java不可否认也是一门优雅的工程化设计语言但不够精简，语法冗长）。。。life is short , I use python and java ! 其实语言本身没有好坏，<br>只有适用场景(多一门语言能力便多一种工具，而工具可以提高效率！)，我曾经还一直在想为什么没有出现一门语言一统天下呢 现在想想也是天真。。。<br>不过语言始终流于招式，接下来是要修炼一波内功了，算法才是灵魂！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/11/python-总结/" data-id="cjjib32kq0004z4vcwqsjejfp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/09/hello-world/" class="article-date">
  <time datetime="2018-07-09T08:51:08.619Z" itemprop="datePublished">2018-07-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/09/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/09/hello-world/" data-id="cjjib32jb0000z4vc572ykja6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/python/" style="font-size: 10px;">python</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/07/12/python-标准异常总结/">python 标准异常总结</a>
          </li>
        
          <li>
            <a href="/2018/07/11/python-总结/">python 总结</a>
          </li>
        
          <li>
            <a href="/2018/07/09/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>